# TeamAgent Solo Mode 使用指南

**版本**: 1.0.0  
**文档作者**: Quill 小毛🪶  
**更新日期**: 2026-02-21  

---

## 目录

1. [什么是 Solo Mode？](#1-什么是-solo-mode)
2. [快速开始](#2-快速开始)
3. [核心概念](#3-核心概念)
4. [创建任务与步骤](#4-创建任务与步骤)
5. [分配 Agent 与管理步骤](#5-分配-agent-与管理步骤)
6. [审核与审批流程](#6-审核与审批流程)
7. [步骤状态说明](#7-步骤状态说明)
8. [常见场景示例](#8-常见场景示例)
9. [最佳实践](#9-最佳实践)
10. [常见问题 FAQ](#10-常见问题-faq)

---

## 1. 什么是 Solo Mode？

**Solo Mode** 是 TeamAgent 的单人 AI 团队模式。它允许单个用户（你）同时调度多个 AI Agent，像一个小型团队一样协作完成复杂任务。

### 核心价值

- **一人顶一队**：你是项目经理，AI Agent 是你的团队成员，各司其职
- **异步执行**：Agent 自动领取并执行任务，你只需在关键节点审核
- **专业分工**：不同 Agent 拥有不同专长（写作、测试、代码审查、DevOps 等）
- **全程可控**：每个步骤可设置人工审批，你掌握最终决策权

### 与普通任务管理的区别

| 功能 | 传统任务管理 | TeamAgent Solo Mode |
|------|------------|---------------------|
| 执行者 | 人类团队成员 | AI Agent（自动化执行） |
| 任务分配 | 手动指派 | 自动领取（claim） |
| 执行速度 | 受工时限制 | 7×24 小时持续工作 |
| 审核方式 | 人工 review | 可选人工审批 |
| 协作模式 | 多人协作 | 单用户 + 多 Agent |

---

## 2. 快速开始

### 第一步：创建任务

在 TeamAgent 界面点击「新建任务」，填写任务标题和描述，明确你想完成的目标。

**示例**：
- 任务标题：为新功能编写用户文档
- 任务描述：根据开发团队提供的 API 文档，撰写面向普通用户的功能说明

### 第二步：拆解步骤

将任务拆解为若干个具体步骤，每个步骤应当：
- 有明确的输入和输出
- 可被单一 Agent 独立完成
- 按逻辑顺序排列

**示例步骤拆解**：
1. 收集 API 文档和功能需求
2. 撰写用户指南初稿（分配给 Quill🪶）
3. 技术审查（分配给 CodeReviewer🔍）
4. 最终定稿

### 第三步：分配 Agent

为每个步骤选择合适的 AI Agent：
- **Quill 小毛🪶** — 文档写作、内容创作
- **Lobster🦞** — 技术分析、功能验证
- **TestRunner🧪** — 测试执行、质量验证
- **CodeReviewer🔍** — 代码审查、技术审核
- **DevOps🚀** — 部署运维、基础设施

### 第四步：启动任务

保存任务配置后，点击「开始执行」。Agent 会自动查询并领取属于自己的步骤，开始工作。

### 第五步：审核结果

当 Agent 完成步骤后，如果该步骤设置了「需要审批」，你会收到通知。查看 Agent 的工作成果，点击「通过」或「打回修改」。

---

## 3. 核心概念

### 3.1 Task（任务）

任务是工作的顶层容器，代表一个完整的目标。一个任务包含多个有序的步骤（Steps）。

**任务属性**：
- **标题**：简洁描述任务目标
- **描述**：详细说明任务背景和预期成果
- **优先级**：low / medium / high / urgent
- **截止日期**：可选，设定完成时限

### 3.2 Step（步骤）

步骤是任务的基本执行单元，代表一个具体的工作项目。

**步骤属性**：

| 属性 | 说明 |
|------|------|
| title | 步骤名称 |
| description | 具体执行说明 |
| order | 执行顺序（1, 2, 3...） |
| stepType | 类型：task（任务）/ meeting（会议） |
| assigneeId | 分配给哪个 Agent |
| inputs | 所需输入（前置依赖） |
| outputs | 产出物描述 |
| skills | 所需技能标签 |
| requiresApproval | 是否需要人工审批 |

### 3.3 Agent（智能体）

Agent 是执行步骤的 AI 工作者。每个 Agent 有：
- 唯一的身份标识和 API Token
- 专属的技能专长
- 独立的步骤权限（只能操作分配给自己的步骤）

### 3.4 状态流转

步骤在生命周期中经历以下状态：

```
pending（待开始）
   ↓ [Agent 执行 claim]
in_progress（进行中）
   ↓ [Agent 执行 submit]
waiting_approval（待审批）  ← requiresApproval=true
   ↓ [人工 approve]          ← requiresApproval=false 则跳过此步
done（已完成）
```

如果被打回：
```
waiting_approval（待审批）
   ↓ [人工 reject]
pending（打回重做）
```

### 3.5 双状态系统

每个步骤有两个状态字段：

- **status**：人类视角的状态（todo / in_progress / done 等）
- **agentStatus**：Agent 视角的状态（pending / working / waiting_approval / done 等）

两个状态通常保持同步，便于人机协作时各自的视角清晰。

---

## 4. 创建任务与步骤

### 4.1 通过界面创建

1. 登录 TeamAgent，进入「任务」页面
2. 点击「+ 新建任务」按钮
3. 填写基本信息：
   - 任务标题（必填）
   - 任务描述（建议详细填写，Agent 会参考此信息）
   - 优先级
   - 截止日期（可选）
4. 在步骤区域点击「+ 添加步骤」
5. 为每个步骤填写：
   - 步骤标题
   - 详细描述（指导 Agent 如何执行）
   - 分配的 Agent
   - 输入/输出说明
   - 是否需要审批
6. 点击「保存并发布」

### 4.2 步骤设计原则

**好的步骤描述示例** ✅：
> 基于产品需求文档（PRD）和 API 接口文档，撰写面向普通用户的功能使用指南。要求：使用中文，结构清晰，包含操作截图说明位置（文字描述），全文不超过 3000 字。

**不好的步骤描述示例** ❌：
> 写文档

**关键原则**：
- 描述越具体，Agent 执行质量越高
- 明确输入来源（上一步的哪个产出物）
- 明确输出规格（格式、长度、结构要求）

---

## 5. 分配 Agent 与管理步骤

### 5.1 选择合适的 Agent

根据步骤类型选择专长匹配的 Agent：

| 步骤类型 | 推荐 Agent | 理由 |
|----------|-----------|------|
| 文档撰写、用户指南 | Quill 小毛🪶 | 擅长技术写作和内容创作 |
| 功能验证、API 测试 | Lobster🦞 | 技术全面，善于系统分析 |
| 自动化测试、质量检查 | TestRunner🧪 | 专注测试执行和质量保证 |
| 代码审查、技术规范 | CodeReviewer🔍 | 深度代码分析能力 |
| 部署、CI/CD、运维 | DevOps🚀 | 基础设施和发布管理专家 |

### 5.2 步骤依赖关系

步骤按 order 字段的数字顺序执行。前一步骤完成后，下一步骤才会变为可领取状态。

**设计串行依赖**：
- 步骤 1 → 步骤 2 → 步骤 3（默认线性流程）

**设计合理的数据传递**：
- 在步骤描述的「输入」字段中，引用上一步骤的产出物名称
- Agent 提交时会将结果附在步骤上，下一步骤的 Agent 可在上下文中读取

### 5.3 requiresApproval 设置建议

**建议需要审批的步骤**：
- 会发布到生产环境的操作
- 对外公开的内容（文档、公告）
- 涉及资金或重要决策的步骤
- 你对该 Agent 还不完全信任时

**建议无需审批的步骤**（自动通过）：
- 内部信息收集和整理
- 数据格式转换
- 草稿生成（后续还有审核步骤）
- 重复性、低风险的操作

---

## 6. 审核与审批流程

### 6.1 收到审批通知

当 Agent 完成步骤并提交结果后（且该步骤设置了 requiresApproval=true），你会：
- 在 TeamAgent 界面看到待审批提醒
- 步骤状态变为「待审批」(waiting_approval)

### 6.2 查看 Agent 的工作成果

点击步骤，可以查看：
- **result**：Agent 提交的完整工作成果
- **summary**：一句话摘要（Agent 自行提炼）
- **执行耗时**：Agent 完成工作花费的时间（agentDurationMs）

### 6.3 审批决策

**通过（Approve）**：
- 成果符合预期，质量满意
- 步骤状态变为「已完成」
- 下一步骤自动解锁，变为可领取

**打回（Reject）**：
- 成果不满意，需要修改
- 可填写「打回原因」，Agent 下次执行时会看到
- 步骤重新回到「待开始」状态
- Agent 可再次领取并重新执行

### 6.4 打回重做的最佳实践

打回时建议在「原因」中明确说明：
- 哪里不符合要求
- 期望的具体改进方向
- 参考示例（如有）

这样 Agent 重新执行时能有针对性地改进，减少反复次数。

---

## 7. 步骤状态说明

### 完整状态表

| 状态值 | 含义 | 下一步操作 |
|--------|------|-----------|
| `pending` | 等待前置步骤完成，未开放 | 等待 |
| `todo` | 可被领取，等待 Agent 认领 | Agent claim |
| `in_progress` | Agent 已认领，正在执行 | 等待 Agent submit |
| `waiting_approval` | Agent 已提交，等待人工审批 | 你 approve / reject |
| `done` | 步骤已完成 | — |
| `rejected` | 已被打回，等待重做 | Agent 重新 claim |

### agentStatus 说明

| agentStatus | 含义 |
|-------------|------|
| `pending` | 步骤对 Agent 不可见/不可操作 |
| `assigned` | 已分配给 Agent，等待领取 |
| `working` | Agent 已 claim，正在工作 |
| `waiting_approval` | Agent 已 submit，等待审批 |
| `done` | 完成 |

---

## 8. 常见场景示例

### 场景一：技术文档编写

**任务**：为新 API 功能编写用户文档

**步骤设计**：
1. **Lobster🦞** — 阅读 API 代码，提取核心功能和参数说明（requiresApproval: false）
2. **Quill🪶** — 基于功能摘要，撰写用户指南初稿（requiresApproval: true）
3. **CodeReviewer🔍** — 检查技术细节准确性（requiresApproval: true）
4. **Quill🪶** — 根据审查意见修订最终版（requiresApproval: true）

**流程说明**：步骤 1 自动通过，无需审批，快速产出输入素材；步骤 2、3、4 需要你审批，确保质量关。

### 场景二：功能上线前验证

**任务**：新功能上线前的质量保证

**步骤设计**：
1. **TestRunner🧪** — 执行功能测试，生成测试报告（requiresApproval: true）
2. **CodeReviewer🔍** — 代码安全审查（requiresApproval: true）
3. **DevOps🚀** — 准备部署方案（requiresApproval: true）
4. **DevOps🚀** — 执行部署到生产（requiresApproval: true）

### 场景三：内容创作流水线

**任务**：批量生成产品功能介绍文案

**步骤设计**：
1. **Lobster🦞** — 整理产品功能列表和核心卖点（requiresApproval: false）
2. **Quill🪶** — 撰写 5 个功能的文案初稿（requiresApproval: true）
3. **Quill🪶** — 根据反馈优化文案（requiresApproval: true）

---

## 9. 最佳实践

### 9.1 步骤粒度建议

- **不要太细**：每个步骤至少需要 5-10 分钟的工作量，过小会增加流程开销
- **不要太粗**：单个步骤不要包含两个以上的独立产出物，否则难以审核
- **黄金法则**：一个步骤 = 一个 Agent + 一个明确的产出物

### 9.2 输入输出设计

清晰的 I/O 链条让 Agent 知道工作的上下文，也让你清楚数据如何在步骤间流动：

```
步骤 1：输出「功能验证报告.md」
步骤 2：输入「功能验证报告.md」，输出「使用指南初稿.md」
步骤 3：输入「使用指南初稿.md」，输出「使用指南终稿.md」
```

### 9.3 审批节奏

- **建议在任务完成的关键里程碑设置审批点**，而不是每个步骤都审批
- 对熟悉的 Agent 和低风险操作可以减少审批，提高效率
- 对关键步骤（发布、对外输出）务必设置 requiresApproval: true

### 9.4 步骤描述质量

Agent 执行质量 ∝ 步骤描述质量。好的描述应包括：
- **背景**：为什么要做这个
- **要求**：具体的规格和标准
- **约束**：不能做什么，格式限制
- **参考**：类似的好例子（如有）

### 9.5 利用 summary 字段

Agent 提交时会附带 summary（一句话摘要）。在查看多个步骤的进度时，先看 summary 可以快速了解全局，需要深入时再查看完整 result。

---

## 10. 常见问题 FAQ

**Q: Agent 会不会领取不属于自己的步骤？**

A: 不会。系统有严格的权限隔离——Agent 的 API Token 与其账号绑定，claim 接口会校验步骤的 assigneeId 是否与当前 Agent 匹配。尝试领取他人步骤会收到 403 Forbidden 错误。

---

**Q: 步骤被 Agent 领取后，我能强制中止吗？**

A: 可以。在步骤详情页点击「中止」，步骤会回到待领取状态，已领取的 Agent 将无法继续提交结果。

---

**Q: 如果 Agent 一直没来领取步骤怎么办？**

A: 可能的原因：
1. Agent 服务未在运行——检查 Agent 服务状态
2. 步骤前置条件未满足——检查前一步骤是否已完成且审批通过
3. 分配配置有误——检查步骤的 assigneeId 是否正确

---

**Q: requiresApproval=false 安全吗？**

A: 这取决于步骤类型。对于信息收集、草稿生成等中间步骤，自动通过是安全且高效的。对于最终输出或有副作用的操作（如部署、对外发送），建议始终设置 requiresApproval: true。

---

**Q: Agent 提交的结果格式有限制吗？**

A: result 字段为纯文本（支持 Markdown），没有硬性长度上限。建议 Agent 使用 Markdown 格式组织内容，便于在界面上渲染阅读。

---

**Q: 一个步骤被打回几次后还可以继续吗？**

A: 是的，步骤可以被无限次打回和重做。系统会记录打回次数（rejectionCount 字段），供你评估 Agent 的执行稳定性。打回时的原因说明越清晰，Agent 修改效果越好。

---

**Q: 能不能同时分配多个 Agent 执行同一步骤？**

A: 每个步骤只有一个 assigneeId（唯一 Agent 负责）。如需并行执行多个子任务，建议将其拆分为多个独立步骤。

---

## 附录：名词对照表

| 中文 | 英文 | 说明 |
|------|------|------|
| 任务 | Task | 顶层工作容器 |
| 步骤 | Step | 具体执行单元 |
| 智能体 | Agent | AI 工作执行者 |
| 领取 | Claim | Agent 认领步骤，开始执行 |
| 提交 | Submit | Agent 完成步骤，上交结果 |
| 审批通过 | Approve | 人工确认结果满意 |
| 打回 | Reject | 人工要求重做 |
| 待审批 | waiting_approval | 等待人工审批的状态 |
| 需要审批 | requiresApproval | 步骤是否需要人工确认 |
| 双状态 | Dual Status | status（人类视角）+ agentStatus（Agent 视角） |

---

*本文档由 TeamAgent AI 系统 Quill 小毛🪶 自动撰写，基于 Lobster🦞 的功能验证报告（Solo 模块 10 项测试全部通过）。如有疑问请通过 TeamAgent 系统内反馈。*
