{"step2":{"summary":"Solo Mode 浣跨敤鎸囧崡鍒濈瀹屾垚锛屾兜鐩栧揩閫熷叆闂ㄣ€佹牳蹇冩蹇点€佸垱寤轰换鍔°€佸鎵规祦绋嬨€佹渶浣冲疄璺靛拰 FAQ 鍏?10 涓珷鑺傦紝绾?5000 瀛楋紝闈㈠悜鏅€氱敤鎴枫€?,"content":"# TeamAgent Solo Mode 浣跨敤鎸囧崡\n\n**鐗堟湰**: 1.0.0  \n**鏂囨。浣滆€?*: Quill 灏忔瘺馃  \n**鏇存柊鏃ユ湡**: 2026-02-21  \n\n---\n\n## 鐩綍\n\n1. [浠€涔堟槸 Solo Mode锛焆(#1-浠€涔堟槸-solo-mode)\n2. [蹇€熷紑濮媇(#2-蹇€熷紑濮?\n3. [鏍稿績姒傚康](#3-鏍稿績姒傚康)\n4. [鍒涘缓浠诲姟涓庢楠(#4-鍒涘缓浠诲姟涓庢楠?\n5. [鍒嗛厤 Agent 涓庣鐞嗘楠(#5-鍒嗛厤-agent-涓庣鐞嗘楠?\n6. [瀹℃牳涓庡鎵规祦绋媇(#6-瀹℃牳涓庡鎵规祦绋?\n7. [姝ラ鐘舵€佽鏄嶿(#7-姝ラ鐘舵€佽鏄?\n8. [甯歌鍦烘櫙绀轰緥](#8-甯歌鍦烘櫙绀轰緥)\n9. [鏈€浣冲疄璺礭(#9-鏈€浣冲疄璺?\n10. [甯歌闂 FAQ](#10-甯歌闂-faq)\n\n---\n\n## 1. 浠€涔堟槸 Solo Mode锛焅n\n**Solo Mode** 鏄?TeamAgent 鐨勫崟浜?AI 鍥㈤槦妯″紡銆傚畠鍏佽鍗曚釜鐢ㄦ埛锛堜綘锛夊悓鏃惰皟搴﹀涓?AI Agent锛屽儚涓€涓皬鍨嬪洟闃熶竴鏍峰崗浣滃畬鎴愬鏉備换鍔°€俓n\n### 鏍稿績浠峰€糪n\n- **涓€浜洪《涓€闃?*锛氫綘鏄」鐩粡鐞嗭紝AI Agent 鏄綘鐨勫洟闃熸垚鍛橈紝鍚勫徃鍏惰亴\n- **寮傛鎵ц**锛欰gent 鑷姩棰嗗彇骞舵墽琛屼换鍔★紝浣犲彧闇€鍦ㄥ叧閿妭鐐瑰鏍竆n- **涓撲笟鍒嗗伐**锛氫笉鍚?Agent 鎷ユ湁涓嶅悓涓撻暱锛堝啓浣溿€佹祴璇曘€佷唬鐮佸鏌ャ€丏evOps 绛夛級\n- **鍏ㄧ▼鍙帶**锛氭瘡涓楠ゅ彲璁剧疆浜哄伐瀹℃壒锛屼綘鎺屾彙鏈€缁堝喅绛栨潈\n\n### 涓庢櫘閫氫换鍔＄鐞嗙殑鍖哄埆\n\n| 鍔熻兘 | 浼犵粺浠诲姟绠＄悊 | TeamAgent Solo Mode |\n|------|------------|---------------------|\n| 鎵ц鑰?| 浜虹被鍥㈤槦鎴愬憳 | AI Agent锛堣嚜鍔ㄥ寲鎵ц锛?|\n| 浠诲姟鍒嗛厤 | 鎵嬪姩鎸囨淳 | 鑷姩棰嗗彇锛坈laim锛?|\n| 鎵ц閫熷害 | 鍙楀伐鏃堕檺鍒?| 7脳24 灏忔椂鎸佺画宸ヤ綔 |\n| 瀹℃牳鏂瑰紡 | 浜哄伐 review | 鍙€変汉宸ュ鎵?|\n| 鍗忎綔妯″紡 | 澶氫汉鍗忎綔 | 鍗曠敤鎴?+ 澶?Agent |\n\n---\n\n## 2. 蹇€熷紑濮媆n\n### 绗竴姝ワ細鍒涘缓浠诲姟\n\n鍦?TeamAgent 鐣岄潰鐐瑰嚮銆屾柊寤轰换鍔°€嶏紝濉啓浠诲姟鏍囬鍜屾弿杩帮紝鏄庣‘浣犳兂瀹屾垚鐨勭洰鏍囥€俓n\n**绀轰緥**锛歕n- 浠诲姟鏍囬锛氫负鏂板姛鑳界紪鍐欑敤鎴锋枃妗n- 浠诲姟鎻忚堪锛氭牴鎹紑鍙戝洟闃熸彁渚涚殑 API 鏂囨。锛屾挵鍐欓潰鍚戞櫘閫氱敤鎴风殑鍔熻兘璇存槑\n\n### 绗簩姝ワ細鎷嗚В姝ラ\n\n灏嗕换鍔℃媶瑙ｄ负鑻ュ共涓叿浣撴楠わ紝姣忎釜姝ラ搴斿綋锛歕n- 鏈夋槑纭殑杈撳叆鍜岃緭鍑篭n- 鍙鍗曚竴 Agent 鐙珛瀹屾垚\n- 鎸夐€昏緫椤哄簭鎺掑垪\n\n**绀轰緥姝ラ鎷嗚В**锛歕n1. 鏀堕泦 API 鏂囨。鍜屽姛鑳介渶姹俓n2. 鎾板啓鐢ㄦ埛鎸囧崡鍒濈锛堝垎閰嶇粰 Quill馃锛塡n3. 鎶€鏈鏌ワ紙鍒嗛厤缁?CodeReviewer馃攳锛塡n4. 鏈€缁堝畾绋縗n\n### 绗笁姝ワ細鍒嗛厤 Agent\n\n涓烘瘡涓楠ら€夋嫨鍚堥€傜殑 AI Agent锛歕n- **Quill 灏忔瘺馃** 鈥?鏂囨。鍐欎綔銆佸唴瀹瑰垱浣淺n- **Lobster馃** 鈥?鎶€鏈垎鏋愩€佸姛鑳介獙璇乗n- **TestRunner馃И** 鈥?娴嬭瘯鎵ц銆佽川閲忛獙璇乗n- **CodeReviewer馃攳** 鈥?浠ｇ爜瀹℃煡銆佹妧鏈鏍竆n- **DevOps馃殌** 鈥?閮ㄧ讲杩愮淮銆佸熀纭€璁炬柦\n\n### 绗洓姝ワ細鍚姩浠诲姟\n\n淇濆瓨浠诲姟閰嶇疆鍚庯紝鐐瑰嚮銆屽紑濮嬫墽琛屻€嶃€侫gent 浼氳嚜鍔ㄦ煡璇㈠苟棰嗗彇灞炰簬鑷繁鐨勬楠わ紝寮€濮嬪伐浣溿€俓n\n### 绗簲姝ワ細瀹℃牳缁撴灉\n\n褰?Agent 瀹屾垚姝ラ鍚庯紝濡傛灉璇ユ楠よ缃簡銆岄渶瑕佸鎵广€嶏紝浣犱細鏀跺埌閫氱煡銆傛煡鐪?Agent 鐨勫伐浣滄垚鏋滐紝鐐瑰嚮銆岄€氳繃銆嶆垨銆屾墦鍥炰慨鏀广€嶃€俓n\n---\n\n## 3. 鏍稿績姒傚康\n\n### 3.1 Task锛堜换鍔★級\n\n浠诲姟鏄伐浣滅殑椤跺眰瀹瑰櫒锛屼唬琛ㄤ竴涓畬鏁寸殑鐩爣銆備竴涓换鍔″寘鍚涓湁搴忕殑姝ラ锛圫teps锛夈€俓n\n**浠诲姟灞炴€?*锛歕n- **鏍囬**锛氱畝娲佹弿杩颁换鍔＄洰鏍嘰n- **鎻忚堪**锛氳缁嗚鏄庝换鍔¤儗鏅拰棰勬湡鎴愭灉\n- **浼樺厛绾?*锛歭ow / medium / high / urgent\n- **鎴鏃ユ湡**锛氬彲閫夛紝璁惧畾瀹屾垚鏃堕檺\n\n### 3.2 Step锛堟楠わ級\n\n姝ラ鏄换鍔＄殑鍩烘湰鎵ц鍗曞厓锛屼唬琛ㄤ竴涓叿浣撶殑宸ヤ綔椤圭洰銆俓n\n**姝ラ灞炴€?*锛歕n\n| 灞炴€?| 璇存槑 |\n|------|------|\n| title | 姝ラ鍚嶇О |\n| description | 鍏蜂綋鎵ц璇存槑 |\n| order | 鎵ц椤哄簭锛?, 2, 3...锛?|\n| stepType | 绫诲瀷锛歵ask锛堜换鍔★級/ meeting锛堜細璁級 |\n| assigneeId | 鍒嗛厤缁欏摢涓?Agent |\n| inputs | 鎵€闇€杈撳叆锛堝墠缃緷璧栵級 |\n| outputs | 浜у嚭鐗╂弿杩?|\n| skills | 鎵€闇€鎶€鑳芥爣绛?|\n| requiresApproval | 鏄惁闇€瑕佷汉宸ュ鎵?|\n\n### 3.3 Agent锛堟櫤鑳戒綋锛塡n\nAgent 鏄墽琛屾楠ょ殑 AI 宸ヤ綔鑰呫€傛瘡涓?Agent 鏈夛細\n- 鍞竴鐨勮韩浠芥爣璇嗗拰 API Token\n- 涓撳睘鐨勬妧鑳戒笓闀縗n- 鐙珛鐨勬楠ゆ潈闄愶紙鍙兘鎿嶄綔鍒嗛厤缁欒嚜宸辩殑姝ラ锛塡n\n### 3.4 鐘舵€佹祦杞琝n\n姝ラ鍦ㄧ敓鍛藉懆鏈熶腑缁忓巻浠ヤ笅鐘舵€侊細\n\n```\npending锛堝緟寮€濮嬶級\n   鈫?[Agent 鎵ц claim]\nin_progress锛堣繘琛屼腑锛塡n   鈫?[Agent 鎵ц submit]\nwaiting_approval锛堝緟瀹℃壒锛? 鈫?requiresApproval=true\n   鈫?[浜哄伐 approve]          鈫?requiresApproval=false 鍒欒烦杩囨姝ndone锛堝凡瀹屾垚锛塡n```\n\n濡傛灉琚墦鍥烇細\n```\nwaiting_approval锛堝緟瀹℃壒锛塡n   鈫?[浜哄伐 reject]\npending锛堟墦鍥為噸鍋氾級\n```\n\n### 3.5 鍙岀姸鎬佺郴缁焅n\n姣忎釜姝ラ鏈変袱涓姸鎬佸瓧娈碉細\n\n- **status**锛氫汉绫昏瑙掔殑鐘舵€侊紙todo / in_progress / done 绛夛級\n- **agentStatus**锛欰gent 瑙嗚鐨勭姸鎬侊紙pending / working / waiting_approval / done 绛夛級\n\n涓や釜鐘舵€侀€氬父淇濇寔鍚屾锛屼究浜庝汉鏈哄崗浣滄椂鍚勮嚜鐨勮瑙掓竻鏅般€俓n\n---\n\n## 4. 鍒涘缓浠诲姟涓庢楠n\n### 4.1 閫氳繃鐣岄潰鍒涘缓\n\n1. 鐧诲綍 TeamAgent锛岃繘鍏ャ€屼换鍔°€嶉〉闈n2. 鐐瑰嚮銆? 鏂板缓浠诲姟銆嶆寜閽甛n3. 濉啓鍩烘湰淇℃伅锛歕n   - 浠诲姟鏍囬锛堝繀濉級\n   - 浠诲姟鎻忚堪锛堝缓璁缁嗗～鍐欙紝Agent 浼氬弬鑰冩淇℃伅锛塡n   - 浼樺厛绾n   - 鎴鏃ユ湡锛堝彲閫夛級\n4. 鍦ㄦ楠ゅ尯鍩熺偣鍑汇€? 娣诲姞姝ラ銆峔n5. 涓烘瘡涓楠ゅ～鍐欙細\n   - 姝ラ鏍囬\n   - 璇︾粏鎻忚堪锛堟寚瀵?Agent 濡備綍鎵ц锛塡n   - 鍒嗛厤鐨?Agent\n   - 杈撳叆/杈撳嚭璇存槑\n   - 鏄惁闇€瑕佸鎵筡n6. 鐐瑰嚮銆屼繚瀛樺苟鍙戝竷銆峔n\n### 4.2 姝ラ璁捐鍘熷垯\n\n**濂界殑姝ラ鎻忚堪绀轰緥** 鉁咃細\n> 鍩轰簬浜у搧闇€姹傛枃妗ｏ紙PRD锛夊拰 API 鎺ュ彛鏂囨。锛屾挵鍐欓潰鍚戞櫘閫氱敤鎴风殑鍔熻兘浣跨敤鎸囧崡銆傝姹傦細浣跨敤涓枃锛岀粨鏋勬竻鏅帮紝鍖呭惈鎿嶄綔鎴浘璇存槑浣嶇疆锛堟枃瀛楁弿杩帮級锛屽叏鏂囦笉瓒呰繃 3000 瀛椼€俓n\n**涓嶅ソ鐨勬楠ゆ弿杩扮ず渚?* 鉂岋細\n> 鍐欐枃妗n\n**鍏抽敭鍘熷垯**锛歕n- 鎻忚堪瓒婂叿浣擄紝Agent 鎵ц璐ㄩ噺瓒婇珮\n- 鏄庣‘杈撳叆鏉ユ簮锛堜笂涓€姝ョ殑鍝釜浜у嚭鐗╋級\n- 鏄庣‘杈撳嚭瑙勬牸锛堟牸寮忋€侀暱搴︺€佺粨鏋勮姹傦級\n\n---\n\n## 5. 鍒嗛厤 Agent 涓庣鐞嗘楠n\n### 5.1 閫夋嫨鍚堥€傜殑 Agent\n\n鏍规嵁姝ラ绫诲瀷閫夋嫨涓撻暱鍖归厤鐨?Agent锛歕n\n| 姝ラ绫诲瀷 | 鎺ㄨ崘 Agent | 鐞嗙敱 |\n|----------|-----------|------|\n| 鏂囨。鎾板啓銆佺敤鎴锋寚鍗?| Quill 灏忔瘺馃 | 鎿呴暱鎶€鏈啓浣滃拰鍐呭鍒涗綔 |\n| 鍔熻兘楠岃瘉銆丄PI 娴嬭瘯 | Lobster馃 | 鎶€鏈叏闈紝鍠勪簬绯荤粺鍒嗘瀽 |\n| 鑷姩鍖栨祴璇曘€佽川閲忔鏌?| TestRunner馃И | 涓撴敞娴嬭瘯鎵ц鍜岃川閲忎繚璇?|\n| 浠ｇ爜瀹℃煡銆佹妧鏈鑼?| CodeReviewer馃攳 | 娣卞害浠ｇ爜鍒嗘瀽鑳藉姏 |\n| 閮ㄧ讲銆丆I/CD銆佽繍缁?| DevOps馃殌 | 鍩虹璁炬柦鍜屽彂甯冪鐞嗕笓瀹?|\n\n### 5.2 姝ラ渚濊禆鍏崇郴\n\n姝ラ鎸?order 瀛楁鐨勬暟瀛楅『搴忔墽琛屻€傚墠涓€姝ラ瀹屾垚鍚庯紝涓嬩竴姝ラ鎵嶄細鍙樹负鍙鍙栫姸鎬併€俓n\n**璁捐涓茶渚濊禆**锛歕n- 姝ラ 1 鈫?姝ラ 2 鈫?姝ラ 3锛堥粯璁ょ嚎鎬ф祦绋嬶級\n\n**璁捐鍚堢悊鐨勬暟鎹紶閫?*锛歕n- 鍦ㄦ楠ゆ弿杩扮殑銆岃緭鍏ャ€嶅瓧娈典腑锛屽紩鐢ㄤ笂涓€姝ラ鐨勪骇鍑虹墿鍚嶇О\n- Agent 鎻愪氦鏃朵細灏嗙粨鏋滈檮鍦ㄦ楠や笂锛屼笅涓€姝ラ鐨?Agent 鍙湪涓婁笅鏂囦腑璇诲彇\n\n### 5.3 requiresApproval 璁剧疆寤鸿\n\n**寤鸿闇€瑕佸鎵圭殑姝ラ**锛歕n- 浼氬彂甯冨埌鐢熶骇鐜鐨勬搷浣淺n- 瀵瑰鍏紑鐨勫唴瀹癸紙鏂囨。銆佸叕鍛婏級\n- 娑夊強璧勯噾鎴栭噸瑕佸喅绛栫殑姝ラ\n- 浣犲璇?Agent 杩樹笉瀹屽叏淇′换鏃禱n\n**寤鸿鏃犻渶瀹℃壒鐨勬楠?*锛堣嚜鍔ㄩ€氳繃锛夛細\n- 鍐呴儴淇℃伅鏀堕泦鍜屾暣鐞哱n- 鏁版嵁鏍煎紡杞崲\n- 鑽夌鐢熸垚锛堝悗缁繕鏈夊鏍告楠わ級\n- 閲嶅鎬с€佷綆椋庨櫓鐨勬搷浣淺n\n---\n\n## 6. 瀹℃牳涓庡鎵规祦绋媆n\n### 6.1 鏀跺埌瀹℃壒閫氱煡\n\n褰?Agent 瀹屾垚姝ラ骞舵彁浜ょ粨鏋滃悗锛堜笖璇ユ楠よ缃簡 requiresApproval=true锛夛紝浣犱細锛歕n- 鍦?TeamAgent 鐣岄潰鐪嬪埌寰呭鎵规彁閱抃n- 姝ラ鐘舵€佸彉涓恒€屽緟瀹℃壒銆?waiting_approval)\n\n### 6.2 鏌ョ湅 Agent 鐨勫伐浣滄垚鏋淺n\n鐐瑰嚮姝ラ锛屽彲浠ユ煡鐪嬶細\n- **result**锛欰gent 鎻愪氦鐨勫畬鏁村伐浣滄垚鏋淺n- **summary**锛氫竴鍙ヨ瘽鎽樿锛圓gent 鑷鎻愮偧锛塡n- **鎵ц鑰楁椂**锛欰gent 瀹屾垚宸ヤ綔鑺辫垂鐨勬椂闂达紙agentDurationMs锛塡n\n### 6.3 瀹℃壒鍐崇瓥\n\n**閫氳繃锛圓pprove锛?*锛歕n- 鎴愭灉绗﹀悎棰勬湡锛岃川閲忔弧鎰廫n- 姝ラ鐘舵€佸彉涓恒€屽凡瀹屾垚銆峔n- 涓嬩竴姝ラ鑷姩瑙ｉ攣锛屽彉涓哄彲棰嗗彇\n\n**鎵撳洖锛圧eject锛?*锛歕n- 鎴愭灉涓嶆弧鎰忥紝闇€瑕佷慨鏀筡n- 鍙～鍐欍€屾墦鍥炲師鍥犮€嶏紝Agent 涓嬫鎵ц鏃朵細鐪嬪埌\n- 姝ラ閲嶆柊鍥炲埌銆屽緟寮€濮嬨€嶇姸鎬乗n- Agent 鍙啀娆￠鍙栧苟閲嶆柊鎵ц\n\n### 6.4 鎵撳洖閲嶅仛鐨勬渶浣冲疄璺礬n\n鎵撳洖鏃跺缓璁湪銆屽師鍥犮€嶄腑鏄庣‘璇存槑锛歕n- 鍝噷涓嶇鍚堣姹俓n- 鏈熸湜鐨勫叿浣撴敼杩涙柟鍚慭n- 鍙傝€冪ず渚嬶紙濡傛湁锛塡n\n杩欐牱 Agent 閲嶆柊鎵ц鏃惰兘鏈夐拡瀵规€у湴鏀硅繘锛屽噺灏戝弽澶嶆鏁般€俓n\n---\n\n## 7. 姝ラ鐘舵€佽鏄嶾n\n### 瀹屾暣鐘舵€佽〃\n\n| 鐘舵€佸€?| 鍚箟 | 涓嬩竴姝ユ搷浣?|\n|--------|------|-----------|\n| `pending` | 绛夊緟鍓嶇疆姝ラ瀹屾垚锛屾湭寮€鏀?| 绛夊緟 |\n| `todo` | 鍙棰嗗彇锛岀瓑寰?Agent 璁ら | Agent claim |\n| `in_progress` | Agent 宸茶棰嗭紝姝ｅ湪鎵ц | 绛夊緟 Agent submit |\n| `waiting_approval` | Agent 宸叉彁浜わ紝绛夊緟浜哄伐瀹℃壒 | 浣?approve / reject |\n| `done` | 姝ラ宸插畬鎴?| 鈥?|\n| `rejected` | 宸茶鎵撳洖锛岀瓑寰呴噸鍋?| Agent 閲嶆柊 claim |\n\n### agentStatus 璇存槑\n\n| agentStatus | 鍚箟 |\n|-------------|------|\n| `pending` | 姝ラ瀵?Agent 涓嶅彲瑙?涓嶅彲鎿嶄綔 |\n| `assigned` | 宸插垎閰嶇粰 Agent锛岀瓑寰呴鍙?|\n| `working` | Agent 宸?claim锛屾鍦ㄥ伐浣?|\n| `waiting_approval` | Agent 宸?submit锛岀瓑寰呭鎵?|\n| `done` | 瀹屾垚 |\n\n---\n\n## 8. 甯歌鍦烘櫙绀轰緥\n\n### 鍦烘櫙涓€锛氭妧鏈枃妗ｇ紪鍐橽n\n**浠诲姟**锛氫负鏂?API 鍔熻兘缂栧啓鐢ㄦ埛鏂囨。\n\n**姝ラ璁捐**锛歕n1. **Lobster馃** 鈥?闃呰 API 浠ｇ爜锛屾彁鍙栨牳蹇冨姛鑳藉拰鍙傛暟璇存槑锛坮equiresApproval: false锛塡n2. **Quill馃** 鈥?鍩轰簬鍔熻兘鎽樿锛屾挵鍐欑敤鎴锋寚鍗楀垵绋匡紙requiresApproval: true锛塡n3. **CodeReviewer馃攳** 鈥?妫€鏌ユ妧鏈粏鑺傚噯纭€э紙requiresApproval: true锛塡n4. **Quill馃** 鈥?鏍规嵁瀹℃煡鎰忚淇鏈€缁堢増锛坮equiresApproval: true锛塡n\n**娴佺▼璇存槑**锛氭楠?1 鑷姩閫氳繃锛屾棤闇€瀹℃壒锛屽揩閫熶骇鍑鸿緭鍏ョ礌鏉愶紱姝ラ 2銆?銆? 闇€瑕佷綘瀹℃壒锛岀‘淇濊川閲忓叧銆俓n\n### 鍦烘櫙浜岋細鍔熻兘涓婄嚎鍓嶉獙璇乗n\n**浠诲姟**锛氭柊鍔熻兘涓婄嚎鍓嶇殑璐ㄩ噺淇濊瘉\n\n**姝ラ璁捐**锛歕n1. **TestRunner馃И** 鈥?鎵ц鍔熻兘娴嬭瘯锛岀敓鎴愭祴璇曟姤鍛婏紙requiresApproval: true锛塡n2. **CodeReviewer馃攳** 鈥?浠ｇ爜瀹夊叏瀹℃煡锛坮equiresApproval: true锛塡n3. **DevOps馃殌** 鈥?鍑嗗閮ㄧ讲鏂规锛坮equiresApproval: true锛塡n4. **DevOps馃殌** 鈥?鎵ц閮ㄧ讲鍒扮敓浜э紙requiresApproval: true锛塡n\n### 鍦烘櫙涓夛細鍐呭鍒涗綔娴佹按绾縗n\n**浠诲姟**锛氭壒閲忕敓鎴愪骇鍝佸姛鑳戒粙缁嶆枃妗圽n\n**姝ラ璁捐**锛歕n1. **Lobster馃** 鈥?鏁寸悊浜у搧鍔熻兘鍒楄〃鍜屾牳蹇冨崠鐐癸紙requiresApproval: false锛塡n2. **Quill馃** 鈥?鎾板啓 5 涓姛鑳界殑鏂囨鍒濈锛坮equiresApproval: true锛塡n3. **Quill馃** 鈥?鏍规嵁鍙嶉浼樺寲鏂囨锛坮equiresApproval: true锛塡n\n---\n\n## 9. 鏈€浣冲疄璺礬n\n### 9.1 姝ラ绮掑害寤鸿\n\n- **涓嶈澶粏**锛氭瘡涓楠よ嚦灏戦渶瑕?5-10 鍒嗛挓鐨勫伐浣滈噺锛岃繃灏忎細澧炲姞娴佺▼寮€閿€\n- **涓嶈澶矖**锛氬崟涓楠や笉瑕佸寘鍚袱涓互涓婄殑鐙珛浜у嚭鐗╋紝鍚﹀垯闅句互瀹℃牳\n- **榛勯噾娉曞垯**锛氫竴涓楠?= 涓€涓?Agent + 涓€涓槑纭殑浜у嚭鐗‐n\n### 9.2 杈撳叆杈撳嚭璁捐\n\n娓呮櫚鐨?I/O 閾炬潯璁?Agent 鐭ラ亾宸ヤ綔鐨勪笂涓嬫枃锛屼篃璁╀綘娓呮鏁版嵁濡備綍鍦ㄦ楠ら棿娴佸姩锛歕n\n```\n姝ラ 1锛氳緭鍑恒€屽姛鑳介獙璇佹姤鍛?md銆峔n姝ラ 2锛氳緭鍏ャ€屽姛鑳介獙璇佹姤鍛?md銆嶏紝杈撳嚭銆屼娇鐢ㄦ寚鍗楀垵绋?md銆峔n姝ラ 3锛氳緭鍏ャ€屼娇鐢ㄦ寚鍗楀垵绋?md銆嶏紝杈撳嚭銆屼娇鐢ㄦ寚鍗楃粓绋?md銆峔n```\n\n### 9.3 瀹℃壒鑺傚\n\n- **寤鸿鍦ㄤ换鍔″畬鎴愮殑鍏抽敭閲岀▼纰戣缃鎵圭偣**锛岃€屼笉鏄瘡涓楠ら兘瀹℃壒\n- 瀵圭啛鎮夌殑 Agent 鍜屼綆椋庨櫓鎿嶄綔鍙互鍑忓皯瀹℃壒锛屾彁楂樻晥鐜嘰n- 瀵瑰叧閿楠わ紙鍙戝竷銆佸澶栬緭鍑猴級鍔″繀璁剧疆 requiresApproval: true\n\n### 9.4 姝ラ鎻忚堪璐ㄩ噺\n\nAgent 鎵ц璐ㄩ噺 鈭?姝ラ鎻忚堪璐ㄩ噺銆傚ソ鐨勬弿杩板簲鍖呮嫭锛歕n- **鑳屾櫙**锛氫负浠€涔堣鍋氳繖涓猏n- **瑕佹眰**锛氬叿浣撶殑瑙勬牸鍜屾爣鍑哱n- **绾︽潫**锛氫笉鑳藉仛浠€涔堬紝鏍煎紡闄愬埗\n- **鍙傝€?*锛氱被浼肩殑濂戒緥瀛愶紙濡傛湁锛塡n\n### 9.5 鍒╃敤 summary 瀛楁\n\nAgent 鎻愪氦鏃朵細闄勫甫 summary锛堜竴鍙ヨ瘽鎽樿锛夈€傚湪鏌ョ湅澶氫釜姝ラ鐨勮繘搴︽椂锛屽厛鐪?summary 鍙互蹇€熶簡瑙ｅ叏灞€锛岄渶瑕佹繁鍏ユ椂鍐嶆煡鐪嬪畬鏁?result銆俓n\n---\n\n## 10. 甯歌闂 FAQ\n\n**Q: Agent 浼氫笉浼氶鍙栦笉灞炰簬鑷繁鐨勬楠わ紵**\n\nA: 涓嶄細銆傜郴缁熸湁涓ユ牸鐨勬潈闄愰殧绂烩€斺€擜gent 鐨?API Token 涓庡叾璐﹀彿缁戝畾锛宑laim 鎺ュ彛浼氭牎楠屾楠ょ殑 assigneeId 鏄惁涓庡綋鍓?Agent 鍖归厤銆傚皾璇曢鍙栦粬浜烘楠や細鏀跺埌 403 Forbidden 閿欒銆俓n\n---\n\n**Q: 姝ラ琚?Agent 棰嗗彇鍚庯紝鎴戣兘寮哄埗涓鍚楋紵**\n\nA: 鍙互銆傚湪姝ラ璇︽儏椤电偣鍑汇€屼腑姝€嶏紝姝ラ浼氬洖鍒板緟棰嗗彇鐘舵€侊紝宸查鍙栫殑 Agent 灏嗘棤娉曠户缁彁浜ょ粨鏋溿€俓n\n---\n\n**Q: 濡傛灉 Agent 涓€鐩存病鏉ラ鍙栨楠ゆ€庝箞鍔烇紵**\n\nA: 鍙兘鐨勫師鍥狅細\n1. Agent 鏈嶅姟鏈湪杩愯鈥斺€旀鏌?Agent 鏈嶅姟鐘舵€乗n2. 姝ラ鍓嶇疆鏉′欢鏈弧瓒斥€斺€旀鏌ュ墠涓€姝ラ鏄惁宸插畬鎴愪笖瀹℃壒閫氳繃\n3. 鍒嗛厤閰嶇疆鏈夎鈥斺€旀鏌ユ楠ょ殑 assigneeId 鏄惁姝ｇ‘\n\n---\n\n**Q: requiresApproval=false 瀹夊叏鍚楋紵**\n\nA: 杩欏彇鍐充簬姝ラ绫诲瀷銆傚浜庝俊鎭敹闆嗐€佽崏绋跨敓鎴愮瓑涓棿姝ラ锛岃嚜鍔ㄩ€氳繃鏄畨鍏ㄤ笖楂樻晥鐨勩€傚浜庢渶缁堣緭鍑烘垨鏈夊壇浣滅敤鐨勬搷浣滐紙濡傞儴缃层€佸澶栧彂閫侊級锛屽缓璁缁堣缃?requiresApproval: true銆俓n\n---\n\n**Q: Agent 鎻愪氦鐨勭粨鏋滄牸寮忔湁闄愬埗鍚楋紵**\n\nA: result 瀛楁涓虹函鏂囨湰锛堟敮鎸?Markdown锛夛紝娌℃湁纭€ч暱搴︿笂闄愩€傚缓璁?Agent 浣跨敤 Markdown 鏍煎紡缁勭粐鍐呭锛屼究浜庡湪鐣岄潰涓婃覆鏌撻槄璇汇€俓n\n---\n\n**Q: 涓€涓楠よ鎵撳洖鍑犳鍚庤繕鍙互缁х画鍚楋紵**\n\nA: 鏄殑锛屾楠ゅ彲浠ヨ鏃犻檺娆℃墦鍥炲拰閲嶅仛銆傜郴缁熶細璁板綍鎵撳洖娆℃暟锛坮ejectionCount 瀛楁锛夛紝渚涗綘璇勪及 Agent 鐨勬墽琛岀ǔ瀹氭€с€傛墦鍥炴椂鐨勫師鍥犺鏄庤秺娓呮櫚锛孉gent 淇敼鏁堟灉瓒婂ソ銆俓n\n---\n\n**Q: 鑳戒笉鑳藉悓鏃跺垎閰嶅涓?Agent 鎵ц鍚屼竴姝ラ锛?*\n\nA: 姣忎釜姝ラ鍙湁涓€涓?assigneeId锛堝敮涓€ Agent 璐熻矗锛夈€傚闇€骞惰鎵ц澶氫釜瀛愪换鍔★紝寤鸿灏嗗叾鎷嗗垎涓哄涓嫭绔嬫楠ゃ€俓n\n---\n\n## 闄勫綍锛氬悕璇嶅鐓ц〃\n\n| 涓枃 | 鑻辨枃 | 璇存槑 |\n|------|------|------|\n| 浠诲姟 | Task | 椤跺眰宸ヤ綔瀹瑰櫒 |\n| 姝ラ | Step | 鍏蜂綋鎵ц鍗曞厓 |\n| 鏅鸿兘浣?| Agent | AI 宸ヤ綔鎵ц鑰?|\n| 棰嗗彇 | Claim | Agent 璁ら姝ラ锛屽紑濮嬫墽琛?|\n| 鎻愪氦 | Submit | Agent 瀹屾垚姝ラ锛屼笂浜ょ粨鏋?|\n| 瀹℃壒閫氳繃 | Approve | 浜哄伐纭缁撴灉婊℃剰 |\n| 鎵撳洖 | Reject | 浜哄伐瑕佹眰閲嶅仛 |\n| 寰呭鎵?| waiting_approval | 绛夊緟浜哄伐瀹℃壒鐨勭姸鎬?|\n| 闇€瑕佸鎵?| requiresApproval | 姝ラ鏄惁闇€瑕佷汉宸ョ‘璁?|\n| 鍙岀姸鎬?| Dual Status | status锛堜汉绫昏瑙掞級+ agentStatus锛圓gent 瑙嗚锛?|\n\n---\n\n*鏈枃妗ｇ敱 TeamAgent AI 绯荤粺 Quill 灏忔瘺馃 鑷姩鎾板啓锛屽熀浜?Lobster馃 鐨勫姛鑳介獙璇佹姤鍛婏紙Solo 妯″潡 10 椤规祴璇曞叏閮ㄩ€氳繃锛夈€傚鏈夌枒闂閫氳繃 TeamAgent 绯荤粺鍐呭弽棣堛€?\n"},"step3":{"summary":"Agent API 鎺ュ叆鏂囨。鍒濈瀹屾垚锛屾兜鐩栬璇佹柟寮忋€?涓牳蹇冩帴鍙ｈ缁嗚鏄庛€佹爣鍑嗗伐浣滄祦銆侀敊璇鐞嗐€佹暟鎹粨鏋勩€丯ode.js/Python/cURL浠ｇ爜绀轰緥鍙婂畨鍏ㄦ渶浣冲疄璺碉紝鍏辩害 8000 瀛椼€?,"content":"# TeamAgent Agent API 鎺ュ叆鏂囨。\n\n**鐗堟湰**: 1.0.0  \n**鏂囨。浣滆€?*: Quill 灏忔瘺馃  \n**鏇存柊鏃ユ湡**: 2026-02-21  \n**閫傜敤瀵硅薄**: 寮€鍙戣€?/ AI Agent 寮€鍙戣€? \n\n---\n\n## 鐩綍\n\n1. [姒傝堪](#1-姒傝堪)\n2. [璁よ瘉鏂瑰紡](#2-璁よ瘉鏂瑰紡)\n3. [API 鍩虹淇℃伅](#3-api-鍩虹淇℃伅)\n4. [鏍稿績鎺ュ彛鍙傝€僝(#4-鏍稿績鎺ュ彛鍙傝€?\n   - [4.1 鑾峰彇 Agent 鐘舵€乚(#41-鑾峰彇-agent-鐘舵€?\n   - [4.2 鏌ヨ鎴戠殑姝ラ鍒楄〃](#42-鏌ヨ鎴戠殑姝ラ鍒楄〃)\n   - [4.3 棰嗗彇姝ラ](#43-棰嗗彇姝ラ)\n   - [4.4 鎻愪氦姝ラ缁撴灉](#44-鎻愪氦姝ラ缁撴灉)\n   - [4.5 鏌ョ湅姝ラ璇︽儏](#45-鏌ョ湅姝ラ璇︽儏)\n   - [4.6 鏌ョ湅姝ラ鍘嗗彶](#46-鏌ョ湅姝ラ鍘嗗彶)\n5. [鏍囧噯宸ヤ綔娴乚(#5-鏍囧噯宸ヤ綔娴?\n6. [閿欒澶勭悊](#6-閿欒澶勭悊)\n7. [鏁版嵁缁撴瀯鍙傝€僝(#7-鏁版嵁缁撴瀯鍙傝€?\n8. [浠ｇ爜绀轰緥](#8-浠ｇ爜绀轰緥)\n9. [瀹夊叏涓庢渶浣冲疄璺礭(#9-瀹夊叏涓庢渶浣冲疄璺?\n10. [鐗堟湰涓庡吋瀹规€(#10-鐗堟湰涓庡吋瀹规€?\n\n---\n\n## 1. 姒傝堪\n\nTeamAgent Agent API 鏄笓涓?AI Agent 璁捐鐨?RESTful API锛屽厑璁?Agent 绋嬪簭鑷富鎺ュ叆 TeamAgent Solo Mode 宸ヤ綔娴侊紝瀹炵幇锛歕n\n- 鑷姩鍙戠幇骞堕鍙栧垎閰嶇粰鑷繁鐨勪换鍔℃楠n- 鎵ц宸ヤ綔骞舵彁浜ょ粨鏋淺n- 鎺ユ敹浜哄伐鎵撳洖鍙嶉锛岃繘琛屼慨鏀归噸鍋歕n\n### 閫傜敤鍦烘櫙\n\n- **AI Agent 寮€鍙戣€?*锛氬皢鑷畾涔?AI Agent 鎺ュ叆 TeamAgent锛屽弬涓庝换鍔″崗浣淺n- **鑷姩鍖栬剼鏈?*锛氱紪鍐欒剼鏈绋嬪簭鑷姩澶勭悊鐗瑰畾绫诲瀷鐨勬楠n- **宸ヤ綔娴侀泦鎴?*锛氬皢 TeamAgent 姝ラ涓庡閮ㄧ郴缁燂紙濡?CI/CD銆佹枃妗ｇ郴缁燂級鎵撻€歕n\n### 鎺ュ叆娴佺▼姒傝\n\n```\n1. 鑾峰彇 API Token锛堢敱绠＄悊鍛樺垎閰嶏級\n2. 璋冪敤 /api/agent/my-steps 鏌ヨ寰呭鐞嗘楠n3. 璋冪敤 /api/steps/{id}/claim 棰嗗彇姝ラ\n4. 鎵ц宸ヤ綔锛圓I 鎺ㄧ悊銆佽剼鏈鐞嗙瓑锛塡n5. 璋冪敤 /api/steps/{id}/submit 鎻愪氦缁撴灉\n6. 绛夊緟浜哄伐瀹℃壒锛堝闇€瑕侊級\n7. 濡傝鎵撳洖锛岄噸鏂版墽琛屾楠?2-5\n```\n\n---\n\n## 2. 璁よ瘉鏂瑰紡\n\nTeamAgent Agent API 浣跨敤 **Bearer Token** 璁よ瘉鏂瑰紡銆俓n\n### 鑾峰彇 Token\n\nAgent Token 鐢?TeamAgent 绯荤粺绠＄悊鍛樺垱寤猴紝鏍煎紡涓猴細\n\n```\nta_<64浣嶅崄鍏繘鍒跺瓧绗︿覆>\n```\n\n**绀轰緥**锛歕n```\nta_ca76a74dbeef38c40f33c07e64b9b03ee85021fb64f3108edc4a6aae301475be\n```\n\n### 浣跨敤鏂瑰紡\n\n鍦ㄦ墍鏈?API 璇锋眰鐨?HTTP Header 涓惡甯?Authorization锛歕n\n```http\nAuthorization: Bearer ta_<your_token_here>\nContent-Type: application/json\n```\n\n### 鏉冮檺鑼冨洿\n\n姣忎釜 Token 涓庣壒瀹?Agent 璐﹀彿缁戝畾锛屽叿鏈変互涓嬫潈闄愶細\n- 鉁?璇诲彇鍒嗛厤缁欒 Agent 鐨勬楠n- 鉁?棰嗗彇锛坈laim锛夊垎閰嶇粰璇?Agent 鐨勬楠n- 鉁?鎻愪氦锛坰ubmit锛夎嚜宸遍鍙栫殑姝ラ\n- 鉂?鏃犳硶鎿嶄綔鍏朵粬 Agent 鐨勬楠n- 鉂?鏃犳硶鎵ц瀹℃壒锛坅pprove/reject锛夋搷浣淺n\n### 璁よ瘉閿欒\n\n| 鎯呭喌 | HTTP 鐘舵€佺爜 | 璇存槑 |\n|------|------------|------|\n| 鏈惡甯?Token | 401 | 璇峰湪 Header 涓坊鍔?Authorization |\n| Token 鏍煎紡閿欒 | 401 | Token 蹇呴』浠?`ta_` 寮€澶?|\n| Token 鏃犳晥/宸叉挙閿€ | 401 | 鑱旂郴绠＄悊鍛橀噸鏂扮敓鎴?Token |\n| 瓒婃潈鎿嶄綔 | 403 | 灏濊瘯鎿嶄綔鍏朵粬 Agent 鐨勬楠?|\n\n---\n\n## 3. API 鍩虹淇℃伅\n\n### Base URL\n\n```\nhttp://localhost:3000\n```\n\n> 鐢熶骇鐜璇锋浛鎹负瀹為檯閮ㄧ讲鍦板潃銆俓n\n### 璇锋眰鏍煎紡\n\n- **Content-Type**: `application/json`\n- **Accept**: `application/json`\n- **缂栫爜**: UTF-8\n\n### 鍝嶅簲鏍煎紡\n\n鎵€鏈夋帴鍙ｈ繑鍥?JSON 鏍煎紡锛屽熀鏈粨鏋勶細\n\n```json\n{\n  \"message\": \"鎿嶄綔缁撴灉鎻忚堪\",\n  \"data\": { ... }\n}\n```\n\n鎴愬姛鍝嶅簲 HTTP 鐘舵€佺爜锛歚200` 鎴?`201`\n\n### 閫熺巼闄愬埗\n\n褰撳墠鐗堟湰鏈缃弗鏍肩殑閫熺巼闄愬埗锛屽缓璁?Agent 杞闂撮殧涓嶄綆浜?**30 绉?*锛岄伩鍏嶅鏈嶅姟鍣ㄩ€犳垚涓嶅繀瑕佸帇鍔涖€俓n\n---\n\n## 4. 鏍稿績鎺ュ彛鍙傝€僜n\n### 4.1 鑾峰彇 Agent 鐘舵€乗n\n楠岃瘉 Token 鏄惁鏈夋晥锛屽苟鑾峰彇褰撳墠 Agent 鐨勫熀鏈俊鎭€俓n\n**璇锋眰**锛歕n```http\nGET /api/agent/status\nAuthorization: Bearer <token>\n```\n\n**鍝嶅簲绀轰緥**锛歕n```json\n{\n  \"id\": \"cmlvxtgjr0000i9q4bunkw3s5\",\n  \"name\": \"Quill 灏忔瘺馃\",\n  \"email\": \"quill@lobster.ai\",\n  \"role\": \"agent\"\n}\n```\n\n**浣跨敤鍦烘櫙**锛歕n- Agent 鍚姩鏃堕獙璇?Token 鏈夋晥鎬n- 璋冭瘯鏃剁‘璁ゅ綋鍓?Agent 韬唤\n\n---\n\n### 4.2 鏌ヨ鎴戠殑姝ラ鍒楄〃\n\n鑾峰彇鍒嗛厤缁欏綋鍓?Agent 鐨勬墍鏈夋楠わ紝鎸夌姸鎬佽繃婊ゃ€俓n\n**璇锋眰**锛歕n```http\nGET /api/agent/my-steps\nAuthorization: Bearer <token>\n```\n\n**鍝嶅簲绀轰緥**锛歕n```json\n[\n  {\n    \"id\": \"cmlw3zx39000di9qgq1neersi\",\n    \"title\": \"缂栧啓Solo Mode浣跨敤鎸囧崡\",\n    \"description\": \"鍩轰簬鍔熻兘楠岃瘉缁撴灉锛屾挵鍐欒缁嗙殑Solo Mode浣跨敤鎸囧崡\",\n    \"status\": \"todo\",\n    \"agentStatus\": \"assigned\",\n    \"requiresApproval\": true,\n    \"order\": 2,\n    \"inputs\": [\"鍔熻兘楠岃瘉鎶ュ憡\"],\n    \"outputs\": [\"Solo Mode浣跨敤鎸囧崡鍒濈\"],\n    \"skills\": [\"鎶€鏈啓浣淺", \"鏂囨。缂栬緫\"],\n    \"taskId\": \"cmlw3yzmu0009i9qgeno0atr0\",\n    \"task\": {\n      \"id\": \"cmlw3yzmu0009i9qgeno0atr0\",\n      \"title\": \"Internal--Solo鍔熻兘楠岃瘉\",\n      \"description\": \"楠岃瘉Solo妯″潡鐨勬墍鏈夊姛鑳?..\"\n    },\n    \"context\": {\n      \"previousOutputs\": [...],\n      \"rejection\": null\n    }\n  }\n]\n```\n\n**鍏抽敭瀛楁璇存槑**锛歕n\n| 瀛楁 | 绫诲瀷 | 璇存槑 |\n|------|------|------|\n| `id` | string | 姝ラ鍞竴 ID锛屽悗缁搷浣滀娇鐢?|\n| `status` | string | 褰撳墠姝ラ鐘舵€?|\n| `agentStatus` | string | Agent 瑙嗚鐘舵€侊紙assigned=鍙鍙栵級 |\n| `requiresApproval` | boolean | 鎻愪氦鍚庢槸鍚﹂渶瑕佷汉宸ュ鎵?|\n| `inputs` | string[] | 鎵€闇€杈撳叆鍒楄〃 |\n| `outputs` | string[] | 鏈熸湜浜у嚭鍒楄〃 |\n| `task.description` | string | 鎵€灞炰换鍔＄殑瀹屾暣鎻忚堪锛堥噸瑕佽儗鏅俊鎭級 |\n| `context.previousOutputs` | array | 鍓嶇疆姝ラ鐨勪骇鍑猴紙鏁版嵁涓婁笅鏂囷級 |\n| `context.rejection` | object\\|null | 鎵撳洖淇℃伅锛堝惈鍘熷洜锛岄噸鍋氭椂鍙傝€冿級 |\n\n**浣跨敤寤鸿**锛歕n- 杩囨护 `agentStatus === 'assigned'` 鐨勬楠よ繘琛岄鍙朶n- 璇诲彇 `context.rejection` 浜嗚В涓婃琚墦鍥炵殑鍘熷洜\n- 璇诲彇 `context.previousOutputs` 鑾峰彇鍓嶅簭姝ラ鐨勫伐浣滄垚鏋淺n\n---\n\n### 4.3 棰嗗彇姝ラ\n\n澹版槑瀵规煇姝ラ鐨勬墽琛屾潈锛屽紑濮嬪伐浣溿€俓n\n**璇锋眰**锛歕n```http\nPOST /api/steps/{stepId}/claim\nAuthorization: Bearer <token>\nContent-Type: application/json\n```\n\n**璺緞鍙傛暟**锛歕n\n| 鍙傛暟 | 璇存槑 |\n|------|------|\n| `stepId` | 姝ラ ID锛堜粠 my-steps 鎺ュ彛鑾峰彇锛?|\n\n**鍝嶅簲绀轰緥**锛堟垚鍔燂級锛歕n```json\n{\n  \"message\": \"宸查鍙栨楠",\n  \"step\": {\n    \"id\": \"cmlw3zx39000di9qgq1neersi\",\n    \"status\": \"in_progress\",\n    \"agentStatus\": \"working\",\n    \"startedAt\": \"2026-02-21T11:10:11.246Z\",\n    ...\n  },\n  \"context\": {\n    \"taskTitle\": \"Internal--Solo鍔熻兘楠岃瘉\",\n    \"taskDescription\": \"...\",\n    \"currentStep\": { ... },\n    \"rejection\": null,\n    \"previousOutputs\": [],\n    \"allSteps\": [...]\n  }\n}\n```\n\n**閲嶈璇存槑**锛歕n- 姝ラ涓€鏃?claim锛?*涓嶅彲閲嶅 claim**锛堣繑鍥?400锛塡n- 鍙湁姝ラ assigneeId 鍖归厤褰撳墠 Agent 鎵嶈兘 claim锛堝惁鍒欒繑鍥?403锛塡n- claim 鎴愬姛鍚庯紝姝ラ鐘舵€佸彉涓?`in_progress` / `working`\n- `context` 瀛楁鍖呭惈瀹屾暣鐨勪笂涓嬫枃淇℃伅锛屽缓璁湪鎵ц鍓嶅厖鍒嗛槄璇籠n\n**閿欒鍝嶅簲**锛歕n\n```json\n// 姝ラ宸茶棰嗗彇锛?00锛塡n{ \"error\": \"姝ラ宸茶棰嗗彇\" }\n\n// 鏃犳潈棰嗗彇锛?03锛塡n{ \"error\": \"鏃犳潈鎿嶄綔姝ゆ楠" }\n\n// 姝ラ涓嶅彲棰嗗彇锛?00锛塡n{ \"error\": \"姝ラ鐘舵€佷笉鍏佽棰嗗彇\" }\n```\n\n---\n\n### 4.4 鎻愪氦姝ラ缁撴灉\n\n宸ヤ綔瀹屾垚鍚庢彁浜ょ粨鏋滐紝绛夊緟瀹℃壒鎴栬嚜鍔ㄩ€氳繃銆俓n\n**璇锋眰**锛歕n```http\nPOST /api/steps/{stepId}/submit\nAuthorization: Bearer <token>\nContent-Type: application/json\n\n{\n  \"result\": \"瀹屾暣鐨勫伐浣滄垚鏋滃唴瀹癸紙鏀寔 Markdown锛塡",\n  \"summary\": \"涓€鍙ヨ瘽鎽樿锛屾柟渚夸汉宸ュ揩閫熶簡瑙"\n}\n```\n\n**璇锋眰浣撳瓧娈?*锛歕n\n| 瀛楁 | 绫诲瀷 | 蹇呭～ | 璇存槑 |\n|------|------|------|------|\n| `result` | string | 鉁?蹇呭～ | 瀹屾暣宸ヤ綔鎴愭灉锛屾敮鎸?Markdown 鏍煎紡 |\n| `summary` | string | 鉁?寤鸿濉啓 | 涓€鍙ヨ瘽鎽樿锛屼究浜庝汉宸ュ揩閫熸祻瑙?|\n\n**鍝嶅簲绀轰緥**锛堥渶瑕佸鎵癸級锛歕n```json\n{\n  \"message\": \"宸叉彁浜わ紝绛夊緟浜虹被瀹℃牳\",\n  \"autoApproved\": false,\n  \"step\": {\n    \"status\": \"waiting_approval\",\n    \"agentStatus\": \"waiting_approval\",\n    \"completedAt\": \"2026-02-21T11:13:55.643Z\",\n    \"agentDurationMs\": 224397,\n    ...\n  },\n  \"workflow\": {\n    \"checked\": true,\n    \"adjusted\": false,\n    \"nextStepNotified\": true\n  }\n}\n```\n\n**鍝嶅簲绀轰緥**锛堣嚜鍔ㄩ€氳繃锛宺equiresApproval=false锛夛細\n```json\n{\n  \"message\": \"宸叉彁浜ゅ苟鑷姩瀹℃壒閫氳繃\",\n  \"autoApproved\": true,\n  \"step\": {\n    \"status\": \"done\",\n    \"agentStatus\": \"done\",\n    ...\n  }\n}\n```\n\n**鍏抽敭瀛楁**锛歕n\n| 瀛楁 | 璇存槑 |\n|------|------|\n| `autoApproved` | true=鑷姩閫氳繃锛宖alse=绛夊緟浜哄伐瀹℃壒 |\n| `step.agentDurationMs` | Agent 鎵ц鑰楁椂锛堟绉掞級 |\n| `workflow.nextStepNotified` | 鏄惁宸查€氱煡涓嬩竴姝ラ |\n\n---\n\n### 4.5 鏌ョ湅姝ラ璇︽儏\n\n鑾峰彇鎸囧畾姝ラ鐨勫畬鏁翠俊鎭€俓n\n**璇锋眰**锛歕n```http\nGET /api/steps/{stepId}\nAuthorization: Bearer <token>\n```\n\n**鍝嶅簲**锛氳繑鍥炴楠ょ殑瀹屾暣瀛楁锛堣[鏁版嵁缁撴瀯鍙傝€僝(#7-鏁版嵁缁撴瀯鍙傝€?锛夈€俓n\n**浣跨敤鍦烘櫙**锛歕n- 鎻愪氦鍚庤疆璇紝纭鏄惁宸查€氳繃瀹℃壒\n- 鑾峰彇鎵撳洖鍘熷洜锛坄rejectionReason` 瀛楁锛塡n- 鏌ョ湅姝ラ褰撳墠鐘舵€乗n\n---\n\n### 4.6 鏌ョ湅姝ラ鍘嗗彶\n\n鑾峰彇姝ラ鐨勬搷浣滃巻鍙茶褰曪紙claim銆乻ubmit銆乤pprove銆乺eject 绛変簨浠讹級銆俓n\n**璇锋眰**锛歕n```http\nGET /api/steps/{stepId}/history\nAuthorization: Bearer <token>\n```\n\n**鍝嶅簲绀轰緥**锛歕n```json\n[\n  {\n    \"event\": \"claimed\",\n    \"actor\": \"Quill 灏忔瘺馃\",\n    \"timestamp\": \"2026-02-21T11:10:11.246Z\"\n  },\n  {\n    \"event\": \"submitted\",\n    \"actor\": \"Quill 灏忔瘺馃\",\n    \"timestamp\": \"2026-02-21T11:13:55.643Z\",\n    \"summary\": \"鏂囨。鍒濈瀹屾垚\"\n  }\n]\n```\n\n---\n\n## 5. 鏍囧噯宸ヤ綔娴乗n\n### 5.1 鍩虹杞宸ヤ綔娴乗n\nAgent 鐨勬爣鍑嗗伐浣滄ā寮忔槸\"杞 鈫?棰嗗彇 鈫?鎵ц 鈫?鎻愪氦\"寰幆锛歕n\n```javascript\nasync function agentWorkLoop() {\n  while (true) {\n    // 1. 鏌ヨ寰呭鐞嗘楠n    const steps = await getMySteps();\n    const todoSteps = steps.filter(s => s.agentStatus === 'assigned');\n    \n    for (const step of todoSteps) {\n      // 2. 棰嗗彇姝ラ\n      const claimResult = await claimStep(step.id);\n      \n      // 3. 鎵ц宸ヤ綔锛堟牴鎹楠ゆ弿杩板拰涓婁笅鏂囷級\n      const result = await doWork(step, claimResult.context);\n      \n      // 4. 鎻愪氦缁撴灉\n      await submitStep(step.id, result.content, result.summary);\n    }\n    \n    // 5. 绛夊緟鍚庣户缁疆璇紙寤鸿 30-60 绉掞級\n    await sleep(30000);\n  }\n}\n```\n\n### 5.2 澶勭悊鎵撳洖閲嶅仛\n\n褰撴楠よ鎵撳洖鏃讹紝瀹冧細閲嶆柊鍑虹幇鍦?`my-steps` 鍒楄〃涓紙agentStatus 鍥炲埌 `assigned`锛夛紝鍚屾椂鎼哄甫鎵撳洖鍘熷洜锛歕n\n```javascript\nasync function doWork(step, context) {\n  let prompt = step.description;\n  \n  // 濡傛灉鏄噸鍋氾紝鍙傝€冩墦鍥炲師鍥燶n  if (context.rejection) {\n    prompt += `\\n\\n[涓婃琚墦鍥烇紝鍘熷洜锛?{context.rejection.reason}]\\n璇烽拡瀵逛互涓婇棶棰橀噸鏂板畬鎴愪换鍔°€俙;\n  }\n  \n  // 鍙傝€冨墠缃楠ょ殑浜у嚭\n  if (context.previousOutputs && context.previousOutputs.length > 0) {\n    const prevOutput = context.previousOutputs[0];\n    prompt += `\\n\\n[鍙傝€冧笂涓€姝ラ銆?{prevOutput.title}銆嶇殑浜у嚭锛歕\n${prevOutput.result}]`;\n  }\n  \n  // 璋冪敤 AI 妯″瀷鎵ц\n  const result = await callAIModel(prompt);\n  return result;\n}\n```\n\n### 5.3 妫€鏌ュ墠缃笂涓嬫枃\n\n鍒╃敤 `context.previousOutputs` 鑾峰彇鍓嶅簭姝ラ鐨勫伐浣滄垚鏋滐細\n\n```javascript\n// claim 鍚庤繑鍥炵殑 context 鍖呭惈鍓嶇疆姝ラ鐨勮緭鍑篭nconst { previousOutputs } = claimResult.context;\n\n// previousOutputs 鏍煎紡\n// [{ stepTitle: \"楠岃瘉Solo妯″潡鍔熻兘\", result: \"楠岃瘉鎶ュ憡鍐呭...\", summary: \"鎽樿\" }]\n```\n\n---\n\n## 6. 閿欒澶勭悊\n\n### 6.1 HTTP 鐘舵€佺爜璇存槑\n\n| 鐘舵€佺爜 | 鍚箟 | 甯歌鍘熷洜 |\n|--------|------|---------|\n| 200 | 鎴愬姛 | 璇锋眰姝ｅ父澶勭悊 |\n| 201 | 鍒涘缓鎴愬姛 | 璧勬簮鍒涘缓鎴愬姛 |\n| 400 | 璇锋眰閿欒 | 鍙傛暟涓嶆纭€佹搷浣滀笉绗﹀悎涓氬姟瑙勫垯 |\n| 401 | 鏈璇?| Token 鏃犳晥鎴栨湭鎻愪緵 |\n| 403 | 鏃犳潈闄?| 灏濊瘯鎿嶄綔涓嶅睘浜庤嚜宸辩殑姝ラ |\n| 404 | 鏈壘鍒?| 姝ラ ID 涓嶅瓨鍦?|\n| 409 | 鍐茬獊 | 姝ラ宸插浜庝笉鍙搷浣滅殑鐘舵€?|\n| 500 | 鏈嶅姟鍣ㄩ敊璇?| 鏈嶅姟绔紓甯革紝鍙◢鍚庨噸璇?|\n\n### 6.2 閿欒鍝嶅簲鏍煎紡\n\n```json\n{\n  \"error\": \"閿欒鎻忚堪淇℃伅\",\n  \"code\": \"ERROR_CODE\",   // 鍙€夛紝鏈哄櫒鍙閿欒鐮乗n  \"details\": { ... }     // 鍙€夛紝璇︾粏淇℃伅\n}\n```\n\n### 6.3 甯歌閿欒鍦烘櫙\n\n**鍦烘櫙 1锛氶噸澶?claim**\n```\nPOST /api/steps/{id}/claim\n鈫?400: { \"error\": \"姝ラ宸茶棰嗗彇\" }\n```\n澶勭悊鏂瑰紡锛氭鏌ユ楠ょ姸鎬侊紝濡傛灉宸叉槸 `in_progress` 璇存槑涔嬪墠宸?claim锛屽彲鐩存帴 submit銆俓n\n**鍦烘櫙 2锛氳秺鏉冩搷浣?*\n```\nPOST /api/steps/{other_agent_step_id}/claim\n鈫?403: { \"error\": \"鏃犳潈鎿嶄綔姝ゆ楠" }\n```\n澶勭悊鏂瑰紡锛氬彧鎿嶄綔 `my-steps` 鎺ュ彛杩斿洖鐨勬楠わ紝涓嶈灏濊瘯鐚滄祴鍏朵粬姝ラ ID銆俓n\n**鍦烘櫙 3锛氭楠ょ姸鎬佷笉鍏佽鎿嶄綔**\n```\nPOST /api/steps/{id}/submit (姝ラ鏈?claim)\n鈫?400: { \"error\": \"姝ラ鏈浜庤繘琛屼腑鐘舵€乗" }\n```\n澶勭悊鏂瑰紡锛氱‘淇濆厛 claim 鍐?submit銆俓n\n**鍦烘櫙 4锛氱綉缁滆秴鏃?*\n澶勭悊鏂瑰紡锛氬疄鐜版寚鏁伴€€閬块噸璇曪紝鏈€澶氶噸璇?3 娆★細\n```javascript\nasync function retryRequest(fn, maxRetries = 3) {\n  for (let i = 0; i < maxRetries; i++) {\n    try {\n      return await fn();\n    } catch (err) {\n      if (i === maxRetries - 1) throw err;\n      await sleep(1000 * Math.pow(2, i)); // 1s, 2s, 4s\n    }\n  }\n}\n```\n\n---\n\n## 7. 鏁版嵁缁撴瀯鍙傝€僜n\n### Step 瀵硅薄\n\n```typescript\ninterface Step {\n  id: string;                    // 姝ラ鍞竴 ID\n  title: string;                 // 姝ラ鏍囬\n  description: string;           // 璇︾粏鎻忚堪\n  order: number;                 // 鎵ц椤哄簭\n  stepType: 'task' | 'meeting'; // 姝ラ绫诲瀷\n  \n  // 鍒嗛厤淇℃伅\n  assigneeId: string;            // 鍒嗛厤缁欑殑 Agent ID\n  assigneeNames: string[];       // Agent 鍚嶇О鍒楄〃\n  \n  // 宸ヤ綔璇存槑\n  inputs: string[];              // 鎵€闇€杈撳叆\n  outputs: string[];             // 鏈熸湜杈撳嚭\n  skills: string[];              // 鎵€闇€鎶€鑳絓n  \n  // 瀹℃壒閰嶇疆\n  requiresApproval: boolean;     // 鏄惁闇€瑕佷汉宸ュ鎵筡n  \n  // 鐘舵€乗n  status: StepStatus;            // 浜虹被瑙嗚鐘舵€乗n  agentStatus: AgentStatus;      // Agent 瑙嗚鐘舵€乗n  \n  // 缁撴灉\n  result: string | null;         // Agent 鎻愪氦鐨勫伐浣滄垚鏋淺n  summary: string | null;        // 涓€鍙ヨ瘽鎽樿\n  \n  // 瀹℃壒淇℃伅\n  approvedAt: string | null;     // 瀹℃壒閫氳繃鏃堕棿\n  approvedBy: string | null;     // 瀹℃壒浜篭n  rejectedAt: string | null;     // 鎵撳洖鏃堕棿\n  rejectionReason: string | null; // 鎵撳洖鍘熷洜\n  rejectionCount: number;        // 琚墦鍥炴鏁癨n  \n  // 鏃堕棿璁板綍\n  createdAt: string;\n  updatedAt: string;\n  startedAt: string | null;      // claim 鏃堕棿\n  completedAt: string | null;    // submit 鏃堕棿\n  agentDurationMs: number | null; // Agent 鎵ц鑰楁椂锛堟绉掞級\n  \n  // 鍏宠仈\n  taskId: string;\n  task: Task;                    // 鎵€灞炰换鍔n}\n```\n\n### StepStatus 鏋氫妇\n\n```typescript\ntype StepStatus = \n  | 'pending'           // 绛夊緟鍓嶇疆姝ラ瀹屾垚\n  | 'todo'              // 鍙棰嗗彇\n  | 'in_progress'       // 鎵ц涓璡n  | 'waiting_approval'  // 绛夊緟瀹℃壒\n  | 'done'              // 宸插畬鎴怽n  | 'rejected';         // 宸叉墦鍥瀄n```\n\n### AgentStatus 鏋氫妇\n\n```typescript\ntype AgentStatus =\n  | 'pending'           // 涓嶅彲鎿嶄綔\n  | 'assigned'          // 宸插垎閰嶏紝绛夊緟 claim\n  | 'working'           // 宸?claim锛屾墽琛屼腑\n  | 'waiting_approval'  // 宸?submit锛岀瓑寰呭鎵筡n  | 'done';             // 瀹屾垚\n```\n\n### ClaimContext 瀵硅薄\n\n```typescript\ninterface ClaimContext {\n  taskTitle: string;\n  taskDescription: string;\n  currentStep: {\n    order: number;\n    title: string;\n    description: string;\n    inputs: string[];\n    outputs: string[];\n    skills: string[];\n  };\n  rejection: {\n    reason: string;\n    rejectedAt: string;\n  } | null;\n  previousOutputs: Array<{\n    stepTitle: string;\n    result: string;\n    summary: string;\n  }>;\n  allSteps: Array<{\n    order: number;\n    title: string;\n    status: string;\n    assigneeNames: string[];\n  }>;\n}\n```\n\n---\n\n## 8. 浠ｇ爜绀轰緥\n\n### 8.1 Node.js / JavaScript 瀹屾暣绀轰緥\n\n```javascript\nconst BASE_URL = 'http://localhost:3000';\nconst TOKEN = 'ta_your_token_here';\n\nconst headers = {\n  'Authorization': `Bearer ${TOKEN}`,\n  'Content-Type': 'application/json'\n};\n\n// 鏌ヨ鎴戠殑姝ラ\nasync function getMySteps() {\n  const res = await fetch(`${BASE_URL}/api/agent/my-steps`, { headers });\n  if (!res.ok) throw new Error(`HTTP ${res.status}: ${await res.text()}`);\n  return res.json();\n}\n\n// 棰嗗彇姝ラ\nasync function claimStep(stepId) {\n  const res = await fetch(`${BASE_URL}/api/steps/${stepId}/claim`, {\n    method: 'POST',\n    headers\n  });\n  if (!res.ok) {\n    const err = await res.json();\n    throw new Error(`Claim failed: ${err.error}`);\n  }\n  return res.json();\n}\n\n// 鎻愪氦姝ラ缁撴灉\nasync function submitStep(stepId, result, summary) {\n  const res = await fetch(`${BASE_URL}/api/steps/${stepId}/submit`, {\n    method: 'POST',\n    headers,\n    body: JSON.stringify({ result, summary })\n  });\n  if (!res.ok) {\n    const err = await res.json();\n    throw new Error(`Submit failed: ${err.error}`);\n  }\n  return res.json();\n}\n\n// Agent 涓诲惊鐜痋nasync function runAgent() {\n  console.log('Agent 鍚姩锛屽紑濮嬪伐浣滃惊鐜?..');\n  \n  while (true) {\n    const steps = await getMySteps();\n    const todoSteps = steps.filter(s => s.agentStatus === 'assigned');\n    \n    console.log(`鍙戠幇 ${todoSteps.length} 涓緟澶勭悊姝ラ`);\n    \n    for (const step of todoSteps) {\n      console.log(`寮€濮嬪鐞嗘楠? ${step.title}`);\n      \n      // 棰嗗彇姝ラ\n      const claimResult = await claimStep(step.id);\n      const { context } = claimResult;\n      \n      // 鏋勫缓宸ヤ綔鎻愮ず\n      let workPrompt = `浠诲姟锛?{context.taskTitle}\\n\\n${step.description}`;\n      \n      if (context.rejection) {\n        workPrompt += `\\n\\n娉ㄦ剰锛氫笂娆℃彁浜よ鎵撳洖锛屽師鍥狅細${context.rejection.reason}`;\n      }\n      \n      if (context.previousOutputs.length > 0) {\n        const prev = context.previousOutputs[0];\n        workPrompt += `\\n\\n鍙傝€冧笂涓€姝ラ浜у嚭锛?{prev.stepTitle}锛夛細\\n${prev.result}`;\n      }\n      \n      // 鎵ц宸ヤ綔锛堣繖閲屾浛鎹负浣犵殑 AI 閫昏緫锛塡n      const workResult = await yourAILogic(workPrompt);\n      \n      // 鎻愪氦缁撴灉\n      const submitResult = await submitStep(\n        step.id, \n        workResult.content,\n        workResult.summary\n      );\n      \n      console.log(`姝ラ鎻愪氦鎴愬姛锛宎utoApproved: ${submitResult.autoApproved}`);\n    }\n    \n    // 绛夊緟 30 绉掑悗缁х画杞\n    await new Promise(resolve => setTimeout(resolve, 30000));\n  }\n}\n\nrunAgent().catch(console.error);\n```\n\n### 8.2 Python 绀轰緥\n\n```python\nimport requests\nimport time\nimport json\n\nBASE_URL = \"http://localhost:3000\"\nTOKEN = \"ta_your_token_here\"\n\nheaders = {\n    \"Authorization\": f\"Bearer {TOKEN}\",\n    \"Content-Type\": \"application/json\"\n}\n\ndef get_my_steps():\n    res = requests.get(f\"{BASE_URL}/api/agent/my-steps\", headers=headers)\n    res.raise_for_status()\n    return res.json()\n\ndef claim_step(step_id: str):\n    res = requests.post(f\"{BASE_URL}/api/steps/{step_id}/claim\", headers=headers)\n    res.raise_for_status()\n    return res.json()\n\ndef submit_step(step_id: str, result: str, summary: str):\n    payload = {\"result\": result, \"summary\": summary}\n    res = requests.post(\n        f\"{BASE_URL}/api/steps/{step_id}/submit\",\n        headers=headers,\n        data=json.dumps(payload)\n    )\n    res.raise_for_status()\n    return res.json()\n\ndef run_agent():\n    print(\"Agent 鍚姩...\")\n    while True:\n        steps = get_my_steps()\n        todo = [s for s in steps if s.get(\"agentStatus\") == \"assigned\"]\n        \n        print(f\"鍙戠幇 {len(todo)} 涓緟澶勭悊姝ラ\")\n        \n        for step in todo:\n            claim_result = claim_step(step[\"id\"])\n            context = claim_result.get(\"context\", {})\n            \n            # 鏋勫缓鎻愮ず璇峔n            prompt = f\"{step['description']}\"\n            if context.get(\"rejection\"):\n                prompt += f\"\\n\\n涓婃琚墦鍥炲師鍥狅細{context['rejection']['reason']}\"\n            \n            # 鎵ц浣犵殑 AI 閫昏緫\n            work_result = your_ai_logic(prompt)\n            \n            # 鎻愪氦\n            submit_step(step[\"id\"], work_result[\"content\"], work_result[\"summary\"])\n            print(f\"姝ラ {step['title']} 鎻愪氦瀹屾垚\")\n        \n        time.sleep(30)\n\nif __name__ == \"__main__\":\n    run_agent()\n```\n\n### 8.3 cURL 鍛戒护琛岀ず渚媆n\n```bash\nTOKEN=\"ta_ca76a74dbeef38c40f33c07e64b9b03ee85021fb64f3108edc4a6aae301475be\"\n\n# 鏌ヨ鎴戠殑姝ラ\ncurl -H \"Authorization: Bearer $TOKEN\" \\\n     http://localhost:3000/api/agent/my-steps\n\n# 棰嗗彇姝ラ\ncurl -X POST \\\n     -H \"Authorization: Bearer $TOKEN\" \\\n     -H \"Content-Type: application/json\" \\\n     http://localhost:3000/api/steps/STEP_ID/claim\n\n# 鎻愪氦姝ラ缁撴灉\ncurl -X POST \\\n     -H \"Authorization: Bearer $TOKEN\" \\\n     -H \"Content-Type: application/json\" \\\n     -d '{\"result\": \"宸ヤ綔鎴愭灉鍐呭\", \"summary\": \"涓€鍙ヨ瘽鎽樿\"}' \\\n     http://localhost:3000/api/steps/STEP_ID/submit\n```\n\n---\n\n## 9. 瀹夊叏涓庢渶浣冲疄璺礬n\n### 9.1 Token 瀹夊叏\n\n- **涓嶈纭紪鐮?Token**锛氫娇鐢ㄧ幆澧冨彉閲忔垨瀵嗛挜绠＄悊鏈嶅姟瀛樺偍 Token\n  ```javascript\n  const TOKEN = process.env.TEAMAGENT_TOKEN;\n  ```\n- **涓嶈鍦ㄦ棩蹇椾腑鎵撳嵃 Token**锛氶伩鍏?Token 娉勯湶\n- **瀹氭湡杞崲 Token**锛氬缓璁瘡 90 澶╄疆鎹竴娆n\n### 9.2 閿欒澶勭悊涓庨噸璇昞n\n- **瀵?5xx 閿欒瀹炴柦鎸囨暟閫€閬块噸璇?*\n- **瀵?4xx 閿欒涓嶈閲嶈瘯**锛堣繖鏄笟鍔￠€昏緫閿欒锛岄噸璇曟棤鎰忎箟锛塡n- **璁剧疆瓒呮椂**锛氬缓璁?API 璇锋眰瓒呮椂璁句负 30 绉抃n\n```javascript\nconst controller = new AbortController();\nconst timeout = setTimeout(() => controller.abort(), 30000);\n\ntry {\n  const res = await fetch(url, { signal: controller.signal, ...options });\n} finally {\n  clearTimeout(timeout);\n}\n```\n\n### 9.3 杞绛栫暐\n\n- **寤鸿杞闂撮殧**锛?0-60 绉抃n- **绌洪棽鏃堕檷浣庨鐜?*锛氬鏋滆繛缁娆℃煡璇㈤兘娌℃湁寰呭鐞嗘楠わ紝鍙€愭寤堕暱闂撮殧锛堟渶闀?5 鍒嗛挓锛塡n- **閬垮厤骞跺彂 claim**锛氬悓涓€涓楠や笉瑕佸苟鍙?claim锛屼娇鐢ㄤ覆琛屽鐞嗛槦鍒梊n\n### 9.4 缁撴灉璐ㄩ噺\n\n- **result 瀛楁浣跨敤 Markdown 鏍煎紡**锛屼究浜庝汉宸ラ槄璇诲拰鐣岄潰娓叉煋\n- **summary 鎺у埗鍦?50 瀛椾互鍐?*锛屼竴鍙ヨ瘽璇存竻妤氬仛浜嗕粈涔圽n- **閬囧埌鎵撳洖鏃讹紝鍔″繀闃呰 rejection.reason**锛岄拡瀵规€у湴鏀硅繘\n\n### 9.5 骞傜瓑鎬ц璁n\n鑰冭檻浠ヤ笅骞傜瓑鎬у満鏅細\n- **claim 骞傜瓑**锛氬鏋滅綉缁滆秴鏃跺悗閲嶈瘯 claim锛屼細鏀跺埌 400 \"姝ラ宸茶棰嗗彇\"鈥斺€旀鏃舵鏌ユ楠ょ姸鎬侊紝濡傛灉鏄?`in_progress` 涓旀槸鑷繁棰嗗彇鐨勶紝鐩存帴缁х画鎵ц\n- **submit 骞傜瓑**锛氶伩鍏嶉噸澶嶆彁浜わ紝鎻愪氦鍓嶆鏌ユ楠ゆ槸鍚﹀凡澶勪簬 `waiting_approval` 鎴?`done` 鐘舵€乗n\n---\n\n## 10. 鐗堟湰涓庡吋瀹规€n\n### 褰撳墠鐗堟湰\n\n| 缁勪欢 | 鐗堟湰 |\n|------|------|\n| API | v1.0.0 |\n| 鏂囨。 | 2026-02-21 |\n\n### API 鍙樻洿绛栫暐\n\n- **鍚戝悗鍏煎**锛氭柊澧炲瓧娈典笉浼氱牬鍧忕幇鏈夐泦鎴怽n- **鐮村潖鎬у彉鏇?*锛氶€氳繃 API 鐗堟湰鍙凤紙/api/v2/...锛夊尯鍒哱n- **搴熷純閫氱煡**锛氭帴鍙ｅ簾寮冨墠鑷冲皯鎻愬墠 3 涓湀閫氱煡\n\n### 宸茬煡闄愬埗锛堝熀浜庡姛鑳介獙璇佹姤鍛婏級\n\n1. **claim 闈炲箓绛?*锛氭楠や竴鏃?claim锛屼笉鍏佽鍐嶆 claim锛孉gent 闇€鑷澶勭悊瓒呮椂閲嶈繛鍦烘櫙\n2. **my-steps 鏃犵姸鎬佽繃婊ゅ弬鏁?*锛氬綋鍓嶇増鏈繑鍥炴墍鏈夌姸鎬佺殑姝ラ锛岄渶瀹㈡埛绔嚜琛岃繃婊わ紙寤鸿杩囨护 `agentStatus === 'assigned'`锛塡n3. **history 鎺ュ彛鏆傛棤鍒嗛〉**锛氭楠ゅ巻鍙茶褰曡緝澶氭椂鍙兘杩斿洖澶ч噺鏁版嵁锛屾湭鏉ョ増鏈皢娣诲姞鍒嗛〉鏀寔\n\n### 寤鸿鏀硅繘锛堜緵绯荤粺鍙傝€冿級\n\n1. `claim` 鎺ュ彛鍖哄垎\"宸茶浣犻鍙朶"鍜孿"宸茶浠栦汉棰嗗彇\"涓ょ 400 閿欒锛屾柟渚?Agent 澶勭悊\n2. `my-steps` 鎺ュ彛鏀寔 `agentStatus` 杩囨护鍙傛暟\n3. `history` 鎺ュ彛鏀寔鍒嗛〉\n\n---\n\n## 闄勫綍 A锛氬畬鏁存帴鍙ｉ€熸煡琛╘n\n| 鏂规硶 | 璺緞 | 鍔熻兘 |\n|------|------|------|\n| GET | `/api/agent/status` | 鑾峰彇褰撳墠 Agent 韬唤淇℃伅 |\n| GET | `/api/agent/my-steps` | 鑾峰彇鍒嗛厤缁欐垜鐨勬楠ゅ垪琛?|\n| POST | `/api/steps/{id}/claim` | 棰嗗彇姝ラ锛堝紑濮嬫墽琛岋級 |\n| POST | `/api/steps/{id}/submit` | 鎻愪氦姝ラ缁撴灉 |\n| GET | `/api/steps/{id}` | 鑾峰彇姝ラ璇︽儏 |\n| GET | `/api/steps/{id}/history` | 鑾峰彇姝ラ鎿嶄綔鍘嗗彶 |\n\n> 浠ヤ笅鎺ュ彛**浠呬緵浜虹被鐢ㄦ埛锛堥潪 Agent Token锛夎皟鐢?*锛歕n> - `POST /api/steps/{id}/approve` 鈥?瀹℃壒閫氳繃\n> - `POST /api/steps/{id}/reject` 鈥?鎵撳洖閲嶅仛\n\n---\n\n## 闄勫綍 B锛氳皟璇曟竻鍗昞n\n閬囧埌闂鏃讹紝鎸変互涓嬮『搴忔帓鏌ワ細\n\n- [ ] Token 鏄惁姝ｇ‘锛堜互 `ta_` 寮€澶达紝64 浣嶅崄鍏繘鍒讹級\n- [ ] Authorization Header 鏍煎紡鏄惁姝ｇ‘锛坄Bearer <token>`锛塡n- [ ] 姝ラ ID 鏄惁浠?`my-steps` 鎺ュ彛姝ｇ‘鑾峰彇\n- [ ] 姝ラ `agentStatus` 鏄惁涓?`assigned`锛堟墠鑳?claim锛塡n- [ ] 鏄惁宸?claim 鍚庢墠 submit\n- [ ] Content-Type 鏄惁璁剧疆涓?`application/json`\n- [ ] 璇锋眰 body 鏄惁涓哄悎娉?JSON\n\n---\n\n*鏈枃妗ｇ敱 TeamAgent AI 绯荤粺 Quill 灏忔瘺馃 鑷姩鎾板啓锛屽熀浜?Lobster馃 鐨勫姛鑳介獙璇佹姤鍛娿€傛枃妗ｆ弿杩扮殑 API 琛屼负鍧囩粡杩囧疄闄呮祴璇曢獙璇侊紙10 椤规祴璇曞叏閮ㄩ€氳繃锛夈€傚鍙戠幇鏂囨。涓庡疄闄呰涓轰笉绗︼紝璇烽€氳繃 TeamAgent 绯荤粺鍐呭弽棣堛€?\n"}}
