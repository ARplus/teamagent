# TeamAgent ä»»åŠ¡æ‹†è§£è§„åˆ™æ–‡æ¡£

> ç‰ˆæœ¬ï¼šv1.0 | æ›´æ–°ï¼š2026-03-02 | ç»´æŠ¤ï¼šå‡¯å‡¯
>
> æœ¬æ–‡æ¡£å®šä¹‰äº† TeamAgent AI ä»»åŠ¡æ‹†è§£å¼•æ“çš„å®Œæ•´è§„åˆ™ä½“ç³»ã€‚
> Lobsterã€å…«çˆªåŠæ‰€æœ‰ Agent åœ¨æ‰§è¡Œæ‹†è§£/æµ‹è¯•ä»»åŠ¡æ—¶ï¼Œ**å¿…é¡»å‚ç…§æœ¬æ–‡æ¡£**ã€‚

---

## 1. æ¦‚è¿°

TeamAgent æ”¯æŒä¸¤ç§ä»»åŠ¡æ‹†è§£è·¯å¾„ï¼š

| è·¯å¾„ | è§¦å‘æ–¹å¼ | ä»£ç å…¥å£ | AI å¼•æ“ |
|------|----------|----------|---------|
| **Team è‡ªåŠ¨æ‹†è§£** | åˆ›å»º Team æ¨¡å¼ä»»åŠ¡åè‡ªåŠ¨è§¦å‘ | `tasks/route.ts` â†’ `ai-parse.ts` | Claude â†’ åƒé—®(é™çº§) |
| **Agent å­æ‹†è§£** | Agent æ‰§è¡Œã€Œæ‹†è§£ç±»ã€æ­¥éª¤æ—¶è§¦å‘ | `steps/[id]/execute-decompose/route.ts` | Claude â†’ åƒé—®(é™çº§) |

ä¸¤æ¡è·¯å¾„å…±äº«ç›¸åŒçš„æ ¸å¿ƒè§„åˆ™ï¼Œä½† prompt æ ¼å¼ç•¥æœ‰ä¸åŒã€‚

---

## 2. è¾“å‡ºæ ¼å¼

### 2.1 Team è‡ªåŠ¨æ‹†è§£ï¼ˆai-parse.tsï¼‰

```json
{
  "taskTitle": "ä»»åŠ¡æ€»æ ‡é¢˜",
  "steps": [
    {
      "order": 1,
      "title": "å­æµç¨‹æ ‡é¢˜ï¼ˆç®€æ´ï¼‰",
      "description": "è¯¦ç»†æè¿°",
      "assignees": ["äººå1"],
      "assigneeType": "agent",
      "requiresApproval": true,
      "parallelGroup": null,
      "inputs": ["éœ€è¦çš„è¾“å…¥"],
      "outputs": ["äº§å‡ºç‰©ï¼Œæœ‰æ–‡ä»¶å†™æ–‡ä»¶åå¦‚ æŠ¥å‘Š.md"],
      "skills": ["éœ€è¦çš„ Skill"],
      "stepType": "task",
      "participants": [],
      "agenda": ""
    }
  ]
}
```

### 2.2 Agent å­æ‹†è§£ï¼ˆexecute-decomposeï¼‰

```json
[
  {
    "title": "æ­¥éª¤æ ‡é¢˜",
    "description": "è¯¦ç»†è¯´æ˜",
    "assignee": "æˆå‘˜åå­—",
    "assigneeType": "agent",
    "requiresApproval": true,
    "parallelGroup": null,
    "inputs": ["ä¾èµ–çš„è¾“å…¥"],
    "outputs": ["äº§å‡ºç‰©"]
  }
]
```

> æ³¨æ„ï¼šå­æ‹†è§£ç”¨ `assignee`ï¼ˆå•æ•°å­—ç¬¦ä¸²ï¼‰ï¼Œè‡ªåŠ¨æ‹†è§£ç”¨ `assignees`ï¼ˆæ•°ç»„ï¼‰ã€‚

---

## 3. æ ¸å¿ƒå­—æ®µè¯´æ˜

### 3.1 assigneeTypeï¼ˆæŒ‡æ´¾èº«ä»½ç±»å‹ï¼‰

**è¿™æ˜¯æœ€é‡è¦çš„å­—æ®µä¹‹ä¸€**ï¼Œå†³å®šæ­¥éª¤æ˜¾ç¤ºä¸ºäººç±»ä»»åŠ¡è¿˜æ˜¯ Agent ä»»åŠ¡ã€‚

| å€¼ | å«ä¹‰ | å›¾æ ‡ | å…¸å‹åœºæ™¯ |
|----|------|------|----------|
| `"agent"` | æŒ‡æ´¾ç»™ Agent | ğŸ¤– | ä»£ç ç¼–å†™ã€æ•°æ®é‡‡é›†ã€è‡ªåŠ¨åŒ–æµ‹è¯• |
| `"human"` | æŒ‡æ´¾ç»™çœŸäºº | ğŸ‘¤ | å®¡æ‰¹å†³ç­–ã€åˆ›æ„åˆ¤æ–­ã€çº¿ä¸‹æ“ä½œ |

**åˆ¤æ–­é€»è¾‘**ï¼š
- çœ‹å›¢é˜Ÿæˆå‘˜åˆ—è¡¨ä¸­çš„æ ‡è®°ï¼š`ğŸ¤– Agentã€Œå…«çˆªã€` â†’ agentï¼Œ`ğŸ‘¤ æœ¨é¡»` â†’ human
- Agent åå­—å’Œäººåä¸ä¸€æ ·ï¼Agent å«ã€Œå…«çˆªã€ï¼Œå®ƒçš„ä¸»äººå«ã€Œæœ¨é¡»ã€
- æŒ‡æ´¾ç»™ã€Œå…«çˆªã€â†’ `assigneeType: "agent"`
- æŒ‡æ´¾ç»™ã€Œæœ¨é¡»ã€â†’ `assigneeType: "human"`

### 3.2 requiresApprovalï¼ˆæ˜¯å¦éœ€è¦å®¡æ‰¹ï¼‰

| å€¼ | å«ä¹‰ | é€‚ç”¨åœºæ™¯ |
|----|------|----------|
| `true` | å®Œæˆåç­‰å¾…äººç±»å®¡æ‰¹ | å…³é”®å†³ç­–ã€æœ€ç»ˆäº§å‡ºã€æ–¹å‘ç¡®è®¤ |
| `false` | å®Œæˆåè‡ªåŠ¨æµè½¬ | å¸¸è§„è°ƒç ”ã€æ•°æ®æ”¶é›†ã€ä¸­é—´æ­¥éª¤ |

### 3.3 parallelGroupï¼ˆå¹¶è¡Œåˆ†ç»„ï¼‰

| å€¼ | å«ä¹‰ |
|----|------|
| `null` | é¡ºåºæ‰§è¡Œï¼Œç­‰ä¸Šä¸€æ­¥å®Œæˆ |
| åŒä¸€å­—ç¬¦ä¸² | å¯ä»¥åŒæ—¶æ‰§è¡Œï¼Œä¸äº’ç›¸ç­‰å¾… |

ç¤ºä¾‹ï¼š3 äººåŒæ—¶æµ‹è¯• â†’ æ¯äººä¸€ä¸ªæ­¥éª¤ï¼Œ`parallelGroup` éƒ½è®¾ä¸º `"æµ‹è¯•"`ã€‚

### 3.4 stepTypeï¼ˆæ­¥éª¤ç±»å‹ï¼‰

| å€¼ | å«ä¹‰ | é¢å¤–å­—æ®µ |
|----|------|----------|
| `"task"` | æ™®é€šä»»åŠ¡æ­¥éª¤ | â€” |
| `"meeting"` | ä¼šè®®æ­¥éª¤ | `participants`ï¼ˆå‚ä¼šäººï¼‰ï¼Œ`agenda`ï¼ˆè®®ç¨‹ï¼‰ |

---

## 4. æ‹†è§£è§„åˆ™ï¼ˆ14 æ¡ï¼‰

### è§„åˆ™ 1ï¼šæœ€å°å¯æ‰§è¡Œå•å…ƒ
æ¯ä¸ªå­æµç¨‹åº”è¯¥æ˜¯**å¯ç‹¬ç«‹æ‰§è¡Œ**çš„æœ€å°å•å…ƒã€‚ä¸€ä¸ªæ­¥éª¤ = ä¸€ä»¶å…·ä½“çš„äº‹ã€‚

### è§„åˆ™ 2ï¼šäººåè¯†åˆ«
è¯†åˆ«æ‰€æœ‰**äººå**æ ¼å¼ï¼š
- ä¸­æ–‡ 2-3 å­—ï¼ˆæœ¨é¡»ã€Auroraï¼‰
- èŒä½æ ¼å¼ï¼ˆX ä¸»ä»»ã€X æ€»ã€X ç»ç†ï¼‰
- è‹±æ–‡åï¼ˆBobã€Carolï¼‰

### è§„åˆ™ 3ï¼šè¾“å…¥è¾“å‡ºæ˜ç¡®
æ¯æ­¥å¿…é¡»å†™æ¸…æ¥šï¼š
- `inputs`ï¼šè¿™æ­¥éœ€è¦ä»€ä¹ˆï¼ˆä¸Šä¸€æ­¥äº§å‡ºçš„æ–‡ä»¶ã€å¤–éƒ¨èµ„æ–™ç­‰ï¼‰
- `outputs`ï¼šè¿™æ­¥äº§å‡ºä»€ä¹ˆï¼ˆæœ‰æ–‡ä»¶å†™æ–‡ä»¶åï¼Œå¦‚ `æŠ¥å‘Š.md`ã€`æµ‹è¯•ç»“æœ.xlsx`ï¼‰

### è§„åˆ™ 4ï¼šæŠ€èƒ½æ¨æ–­
æ ¹æ®æ­¥éª¤å†…å®¹æ¨æ–­éœ€è¦çš„ `skills`ï¼ˆå¦‚ã€Œæ–‡æ¡£åˆ†æã€ã€Œä»£ç å®¡æŸ¥ã€ã€Œæ—¥ç¨‹ç®¡ç†ã€ï¼‰ã€‚

### è§„åˆ™ 5ï¼šé€»è¾‘é¡ºåº
æ­¥éª¤ä¿æŒåˆç†çš„æ‰§è¡Œé¡ºåºã€‚æœ‰ä¾èµ–å…³ç³»çš„æ­¥éª¤ä¸èƒ½å¹¶è¡Œã€‚

### è§„åˆ™ 6ï¼šå¯¹åº”æ‹†åˆ†
ä»»åŠ¡ä¸­æœ‰æ˜ç¡®ç¼–å·ã€å¤šä¸ªé˜¶æ®µã€å¤šä¸ªè´£ä»»äººæ—¶ï¼Œæ‹†æˆå¯¹åº”æ•°é‡çš„ç‹¬ç«‹æ­¥éª¤ã€‚

### è§„åˆ™ 7ï¼šæœ€å°‘ 2 æ­¥
ä»»ä½•ä»»åŠ¡è‡³å°‘æ‹†æˆ **2 ä¸ªæ­¥éª¤**ï¼Œä¸å…è®¸åªæœ‰ 1 æ­¥ã€‚

### è§„åˆ™ 8ï¼šæ–‡æ¡£ç±»ä¸‰æ­¥æ³•
åŒ…å«"æŠ¥å‘Š/æ–‡æ¡£/æ–¹æ¡ˆ"çš„ä»»åŠ¡ï¼Œè‡³å°‘æ‹†æˆï¼š
```
è°ƒç ” â†’ æ’°å†™ â†’ å®¡æ ¸
```

### è§„åˆ™ 9ï¼šä¼šè®®è¯†åˆ«
å…³é”®è¯ã€Œå¼€ä¼šã€ä¼šè®®ã€è®¨è®ºä¼šã€è¯„å®¡ã€â†’ `stepType: "meeting"`ï¼Œå¡«å†™ `participants` å’Œ `agenda`ã€‚

### è§„åˆ™ 10ï¼šå¹¶è¡Œåˆ¤æ–­
ä»¥ä¸‹æƒ…å†µè®¾ç½®ç›¸åŒ `parallelGroup`ï¼š
- å¤šäººåŒæ—¶åšä¸åŒæ–¹å‘çš„è°ƒç ”
- ç‹¬ç«‹çš„å­ä»»åŠ¡å¯ä»¥åŒæ—¶æ¨è¿›
- ä¸äº’ç›¸ä¾èµ–çš„å‡†å¤‡å·¥ä½œ

### è§„åˆ™ 11ï¼šå®¡æ‰¹åˆ¤æ–­
`requiresApproval = true` çš„æ¡ä»¶ï¼š
- å…³é”®å†³ç­–ç‚¹ï¼ˆæ–¹æ¡ˆé€‰æ‹©ã€æ–¹å‘ç¡®è®¤ï¼‰
- æœ€ç»ˆäº§å‡ºç‰©ï¼ˆæŠ¥å‘Šã€æ–‡æ¡£ã€æ–¹æ¡ˆï¼‰
- éœ€è¦äººç±»ç¡®è®¤æ‰èƒ½ç»§ç»­çš„èŠ‚ç‚¹

å…¶ä»–æƒ…å†µ `false`ï¼ˆå¸¸è§„è°ƒç ”ã€æ•°æ®æ”¶é›†ç­‰ï¼‰ã€‚

### è§„åˆ™ 12ï¼šå…¨å‘˜ä»»åŠ¡æ‹†åˆ† âš ï¸ é‡è¦
å½“ä»»åŠ¡è¯´ã€Œæ‰€æœ‰äººã€ã€Œæ¯ä¸ªäººã€ã€Œå…¨å‘˜ã€ã€Œå¤§å®¶éƒ½ã€åšæŸäº‹ï¼š
- **å¿…é¡»ä¸ºæ¯ä¸ªæˆå‘˜å„åˆ›å»ºä¸€ä¸ªç‹¬ç«‹æ­¥éª¤**
- æ¯æ­¥ `assignees` åªå¡«ä¸€ä¸ªäººå
- æ‰€æœ‰æ­¥éª¤è®¾ç½®ç›¸åŒçš„ `parallelGroup`ï¼ˆå¦‚ `"æµ‹è¯•"`ï¼‰
- âŒ ä¸è¦ç”¨ä¸€ä¸ªæ­¥éª¤ assignees å¡«å¤šäºº â€” è¿™æ ·æ— æ³•ç‹¬ç«‹è·Ÿè¸ªè¿›åº¦

**ç¤ºä¾‹**ï¼š
```
ä»»åŠ¡ï¼š"æ‰€æœ‰äººè·‘ä¸€éç§»åŠ¨ç«¯æµ‹è¯•"
å›¢é˜Ÿï¼šLobster, å…«çˆª, æœ¨é¡», Aurora

â†’ æ‹†æˆ 4 ä¸ªæ­¥éª¤ï¼š
  Step 1: "Lobster ç§»åŠ¨ç«¯æµ‹è¯•"    assignees:["Lobster"]  assigneeType:"agent"  parallelGroup:"æµ‹è¯•"
  Step 2: "å…«çˆª ç§»åŠ¨ç«¯æµ‹è¯•"       assignees:["å…«çˆª"]     assigneeType:"agent"  parallelGroup:"æµ‹è¯•"
  Step 3: "æœ¨é¡» ç§»åŠ¨ç«¯æµ‹è¯•"       assignees:["æœ¨é¡»"]     assigneeType:"human"  parallelGroup:"æµ‹è¯•"
  Step 4: "Aurora ç§»åŠ¨ç«¯æµ‹è¯•"     assignees:["Aurora"]   assigneeType:"human"  parallelGroup:"æµ‹è¯•"
```

### è§„åˆ™ 13ï¼šç¦æ­¢ meta æ­¥éª¤ âš ï¸ é‡è¦
Agent åªèƒ½æ‰§è¡Œå…·ä½“å·¥ä½œï¼Œ**ä¸èƒ½"å®‰æ’åˆ«äºº"**ã€‚

| ä»»åŠ¡æè¿° | âŒ é”™è¯¯æ‹†è§£ | âœ… æ­£ç¡®æ‹†è§£ |
|----------|------------|------------|
| "å®‰æ’ 3 ä¸ª Agent æµ‹è¯•" | ä¸€ä¸ªæ­¥éª¤ç»™ Lobsterï¼š"å®‰æ’ 3 ä¸ª Agent æµ‹è¯•" | ç›´æ¥é€‰ 3 ä¸ª Agentï¼Œå„åˆ›å»ºä¸€ä¸ªæµ‹è¯•æ­¥éª¤ |
| "éšæœºå®‰æ’ 3 ä¸ª Agent" | æ­¥éª¤ï¼š"éšæœºå®‰æ’æµ‹è¯•äººå‘˜" | AI ç›´æ¥é€‰ 3 ä¸ªï¼Œåˆ†åˆ«åˆ›å»ºæ­¥éª¤ |
| "è®© Lobster å®‰æ’å…«çˆªåšæµ‹è¯•" | æ­¥éª¤ç»™ Lobsterï¼š"å®‰æ’å…«çˆªåšæµ‹è¯•" | ç›´æ¥åˆ›å»ºæ­¥éª¤ç»™å…«çˆªï¼Œè·³è¿‡"å®‰æ’"ä¸­é—´ç¯èŠ‚ |

**ä¾‹å¤–**ï¼šæ€»ç»“/æ±‡æŠ¥ç±»æ­¥éª¤å¯ä»¥æŒ‡æ´¾ç»™ä¸» Agentï¼ˆå¦‚ Lobsterï¼‰ï¼Œè¿™æ˜¯å¯æ‰§è¡Œçš„ã€‚

### è§„åˆ™ 14ï¼šAgent å†›å›¢æ³¨å†Œä»»åŠ¡
æ¶‰åŠã€Œç»„å»º Agent å†›å›¢ã€ã€Œæ³¨å†Œ Agent æˆå‘˜ã€ã€Œåˆ›å»ºå­ Agentã€æ—¶ï¼Œ**å¿…é¡»æ‹†æˆä¸¤æ­¥**ï¼š

| æ­¥éª¤ | å†…å®¹ | äº§å‡º |
|------|------|------|
| A | é€šè¿‡ TeamAgent API æ³¨å†Œæˆå‘˜ï¼ˆPOST /api/agents/registerï¼‰ | æˆå‘˜æ³¨å†Œæ¸…å•.md |
| B | åœ¨ OpenClaw ä¸­åˆ›å»ºçœŸå®å­ Agentï¼ˆgateway config.patchï¼‰ | OpenClaw é…ç½®ç¡®è®¤.md |

> ä»…å®Œæˆ API æ³¨å†Œæ˜¯ä¸å¤Ÿçš„ â€” OpenClaw ä¸­ä¸å­˜åœ¨çš„ Agent æ— æ³•è¢«è°ƒåº¦æ‰§è¡Œä»»åŠ¡ï¼Œæ˜¯"çº¸é¢å†›å›¢"ã€‚

---

## 5. å›¢é˜Ÿæˆå‘˜ä¸Šä¸‹æ–‡

AI æ‹†è§£æ—¶ä¼šæ³¨å…¥å½“å‰å·¥ä½œåŒºçš„å›¢é˜Ÿæˆå‘˜ä¿¡æ¯ï¼Œæ ¼å¼å¦‚ä¸‹ï¼š

```
## å½“å‰å·¥ä½œåŒºå›¢é˜Ÿæˆå‘˜
- ğŸ¤– Agentã€ŒLobsterã€ï¼ˆæ‰€å±äººç±»ï¼šAuroraï¼‰â€” èƒ½åŠ›ï¼šé¡¹ç›®ç®¡ç†ã€ä»£ç å®¡æŸ¥
- ğŸ¤– Agentã€Œå…«çˆªã€ï¼ˆæ‰€å±äººç±»ï¼šæœ¨é¡»ï¼‰â€” èƒ½åŠ›ï¼šå…¨æ ˆå¼€å‘ã€æµ‹è¯•
- ğŸ‘¤ æœ¨é¡»ï¼ˆå›¢é˜Ÿè´Ÿè´£äººï¼‰
- ğŸ‘¤ Aurora
```

### åˆ†é…åŸåˆ™
1. `assignees` ä¸­çš„åå­—**å¿…é¡»ä¸æˆå‘˜åˆ—è¡¨å®Œå…¨ä¸€è‡´**
2. Agent ç”¨ Agent åå­—ï¼ˆå¦‚ã€Œå…«çˆªã€ï¼‰ï¼Œäººç±»ç”¨äººåï¼ˆå¦‚ã€Œæœ¨é¡»ã€ï¼‰
3. ä¼˜å…ˆå°†æŠ€æœ¯/æ‰§è¡Œç±»ä»»åŠ¡åˆ†é…ç»™æœ‰å¯¹åº”èƒ½åŠ›çš„ Agent
4. éœ€è¦äººç±»åˆ¤æ–­/å†³ç­–/å®¡æ‰¹çš„æ­¥éª¤åˆ†é…ç»™äººç±»
5. ä»»åŠ¡æåˆ°çš„äººåä¸åœ¨åˆ—è¡¨ä¸­ â†’ ä¿ç•™åŸåå¹¶æ­£å¸¸æ‹†è§£
6. ã€Œæ‰€æœ‰äºº/å…¨å‘˜/å¤§å®¶ã€â†’ åˆ—è¡¨ä¸­çš„æ‰€æœ‰æˆå‘˜ï¼Œå„åˆ›å»ºç‹¬ç«‹æ­¥éª¤

---

## 6. åç«¯å¤„ç†é“¾è·¯

```
ç”¨æˆ·åˆ›å»º Team ä»»åŠ¡
  â†“
tasks/route.ts (POST)
  â†“ fire-and-forget
parseTaskWithAI(description, teamMembers)   â† ai-parse.ts
  â†“
[Claude 15s timeout] â†’ é™çº§ â†’ [åƒé—® 120s timeout]
  â†“
JSON è§£æ + æˆå‘˜åŒ¹é…
  â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ æˆå‘˜åŒ¹é…é€»è¾‘ï¼ˆtasks/route.tsï¼‰              â”‚
â”‚                                              â”‚
â”‚ 1. ç²¾ç¡®åŒ¹é…äººåï¼ˆnickname / nameï¼‰           â”‚
â”‚    â†’ åŒ¹é…åˆ° â†’ å¦‚æœ AI è¯´ human å°±æ˜¯ human    â”‚
â”‚    â†’ AI æ²¡è¯´ â†’ è¯¥ç”¨æˆ·æœ‰ agent ? agent : human â”‚
â”‚                                              â”‚
â”‚ 2. åŒ¹é… Agent åå­—                           â”‚
â”‚    â†’ åŒ¹é…åˆ° â†’ assigneeType = agent           â”‚
â”‚                                              â”‚
â”‚ 3. æ¨¡ç³ŠåŒ¹é…ï¼ˆname.includesï¼‰                 â”‚
â”‚    â†’ åŒ¹é…åˆ° â†’ åŒè§„åˆ™ 1                       â”‚
â”‚                                              â”‚
â”‚ 4. æŒ‰èƒ½åŠ›åŒ¹é…ï¼ˆå…œåº•ï¼‰                        â”‚
â”‚    â†’ assigneeType = agent                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
  â†“
åˆ›å»º TaskStep + StepAssignee(assigneeType)
  â†“
WebSocket é€šçŸ¥ç›¸å…³ Agent è®¤é¢†
```

---

## 7. AI å¼•æ“é™çº§ç­–ç•¥

```
Claude (sonnet-4-5)
  â”œâ”€ æœ‰ ANTHROPIC_API_KEY â†’ å°è¯•è°ƒç”¨ï¼ˆ15s è¶…æ—¶ï¼‰
  â”‚     â”œâ”€ æˆåŠŸ â†’ ä½¿ç”¨ Claude ç»“æœ
  â”‚     â””â”€ å¤±è´¥/è¶…æ—¶ â†’ é™çº§åˆ°åƒé—®
  â””â”€ æ—  key â†’ ç›´æ¥ç”¨åƒé—®

åƒé—® (qwen-max-latest)
  â”œâ”€ 120s è¶…æ—¶
  â”œâ”€ æˆåŠŸ â†’ ä½¿ç”¨åƒé—®ç»“æœ
  â””â”€ å¤±è´¥ â†’ æ‹†è§£å¤±è´¥ï¼Œä»»åŠ¡ä¿æŒåŸå§‹çŠ¶æ€
```

> å½“å‰æœåŠ¡å™¨ï¼ˆè…¾è®¯äº‘ï¼‰æ— æ³•è®¿é—® Cloudflare Workersï¼ŒANTHROPIC å·²æ³¨é‡Šï¼Œå…¨é‡èµ°åƒé—®ã€‚

---

## 8. æµ‹è¯•ç”¨ä¾‹

ä»¥ä¸‹ç”¨ä¾‹ä¾› Lobsterã€å…«çˆªç­‰ Agent è·‘å›å½’æµ‹è¯•ã€‚

### ç”¨ä¾‹ 1ï¼šåŸºç¡€æ‹†è§£

**è¾“å…¥**ï¼š`æœ¨é¡»å†™ä¸€ä»½å¸‚åœºè°ƒç ”æŠ¥å‘Š`

**æœŸæœ›**ï¼š
- [ ] è‡³å°‘ 3 æ­¥ï¼ˆè°ƒç ” â†’ æ’°å†™ â†’ å®¡æ ¸ï¼Œè§„åˆ™ 8ï¼‰
- [ ] `assignees` åŒ…å« `"æœ¨é¡»"`
- [ ] `assigneeType` å…¨éƒ¨ä¸º `"human"`ï¼ˆæœ¨é¡»æ˜¯äººç±»ï¼‰
- [ ] æœ€ç»ˆå®¡æ ¸æ­¥éª¤ `requiresApproval: true`
- [ ] æœ‰äº§å‡ºæ–‡ä»¶åï¼ˆå¦‚ `å¸‚åœºè°ƒç ”æŠ¥å‘Š.md`ï¼‰

### ç”¨ä¾‹ 2ï¼šå…¨å‘˜ä»»åŠ¡

**è¾“å…¥**ï¼š`æ‰€æœ‰äººæµ‹è¯•ç§»åŠ¨ç«¯ç™»å½•æµç¨‹`

**æœŸæœ›**ï¼š
- [ ] æ­¥éª¤æ•° = å›¢é˜Ÿæˆå‘˜æ•°ï¼ˆè§„åˆ™ 12ï¼‰
- [ ] æ¯æ­¥åªæœ‰ 1 ä¸ª assignee
- [ ] å…¨éƒ¨ `parallelGroup` ç›¸åŒï¼ˆå¦‚ `"æµ‹è¯•"`ï¼‰
- [ ] Agent æˆå‘˜ â†’ `assigneeType: "agent"`
- [ ] äººç±»æˆå‘˜ â†’ `assigneeType: "human"`

### ç”¨ä¾‹ 3ï¼šç¦æ­¢ meta æ­¥éª¤

**è¾“å…¥**ï¼š`å®‰æ’ 3 ä¸ª Agent éšæœºæµ‹è¯•æ³¨å†ŒåŠŸèƒ½`

**æœŸæœ›**ï¼š
- [ ] æ°å¥½ 3 ä¸ªæµ‹è¯•æ­¥éª¤ï¼ˆè§„åˆ™ 13ï¼‰
- [ ] æ¯æ­¥æŒ‡æ´¾ä¸€ä¸ªå…·ä½“çš„ Agentï¼ˆä¸æ˜¯"å®‰æ’æŸæŸæµ‹è¯•"ï¼‰
- [ ] `assigneeType` å…¨éƒ¨ä¸º `"agent"`
- [ ] `parallelGroup` ç›¸åŒ

### ç”¨ä¾‹ 4ï¼šäººæœºæ··åˆ

**è¾“å…¥**ï¼š`å…«çˆªå†™ä»£ç ï¼Œæœ¨é¡»åšä»£ç å®¡æŸ¥ï¼ŒLobster å†™æµ‹è¯•ï¼ŒAurora æœ€ç»ˆéªŒæ”¶`

**æœŸæœ›**ï¼š
- [ ] 4 ä¸ªæ­¥éª¤ï¼Œé¡ºåºæ‰§è¡Œ
- [ ] å…«çˆª â†’ `assigneeType: "agent"`
- [ ] æœ¨é¡» â†’ `assigneeType: "human"`
- [ ] Lobster â†’ `assigneeType: "agent"`
- [ ] Aurora â†’ `assigneeType: "human"`
- [ ] Aurora éªŒæ”¶æ­¥éª¤ `requiresApproval: true`

### ç”¨ä¾‹ 5ï¼šä¼šè®®è¯†åˆ«

**è¾“å…¥**ï¼š`æœ¨é¡»å’Œ Aurora å¼€ä¸ªä¼šè®¨è®º Q2 è®¡åˆ’ï¼Œç„¶åå…«çˆªæ•´ç†ä¼šè®®çºªè¦`

**æœŸæœ›**ï¼š
- [ ] æ­¥éª¤ 1ï¼š`stepType: "meeting"`ï¼Œ`participants` åŒ…å«æœ¨é¡»å’Œ Aurora
- [ ] æ­¥éª¤ 2ï¼š`stepType: "task"`ï¼Œassignee ä¸ºå…«çˆª
- [ ] æ­¥éª¤ 1 çš„ `agenda` éç©º

### ç”¨ä¾‹ 6ï¼šAgent å†›å›¢æ³¨å†Œ

**è¾“å…¥**ï¼š`ç»„å»º 3 ä¸ªæ–° Agent æˆä¸ºå†›å›¢æˆå‘˜`

**æœŸæœ›**ï¼š
- [ ] è‡³å°‘ 2 æ­¥ï¼ˆè§„åˆ™ 14ï¼‰
- [ ] æ­¥éª¤ A æ¶‰åŠ API æ³¨å†Œï¼ˆPOST /api/agents/registerï¼‰
- [ ] æ­¥éª¤ B æ¶‰åŠ OpenClaw é…ç½®

### ç”¨ä¾‹ 7ï¼šå¹¶è¡Œ + é¡ºåºæ··åˆ

**è¾“å…¥**ï¼š`å…«çˆªå’Œ Lobster åŒæ—¶è°ƒç ”ç«å“ï¼Œç„¶åæœ¨é¡»æ±‡æ€»å†™æŠ¥å‘Š`

**æœŸæœ›**ï¼š
- [ ] æ­¥éª¤ 1ã€2 å¹¶è¡Œï¼ˆç›¸åŒ `parallelGroup`ï¼Œå¦‚ `"è°ƒç ”"`ï¼‰
- [ ] æ­¥éª¤ 3 é¡ºåºï¼ˆ`parallelGroup: null`ï¼‰
- [ ] æ­¥éª¤ 1 assignee å…«çˆªï¼Œtype agent
- [ ] æ­¥éª¤ 2 assignee Lobsterï¼Œtype agent
- [ ] æ­¥éª¤ 3 assignee æœ¨é¡»ï¼Œtype human

---

## 9. å·²çŸ¥é™åˆ¶ä¸å¾…ä¼˜åŒ–

| é¡¹ | ç°çŠ¶ | æœªæ¥æ–¹å‘ |
|----|------|----------|
| AI å¼•æ“ | åƒé—® qwen-max-latestï¼ˆClaude è¢«è…¾è®¯äº‘å°é”ï¼‰ | æ‰¾å›½å†…å¯ç”¨çš„ Claude ä»£ç† |
| assigneeType å…œåº• | AI æœªè¾“å‡ºæ—¶ï¼ŒæŒ‰æˆå‘˜åŒ¹é…é€»è¾‘æ¨æ–­ | å¼ºåˆ¶ AI è¾“å‡ºï¼Œè§£æå¤±è´¥æ‰å…œåº• |
| å¤š assignee çš„ type | ä¸€ä¸ªæ­¥éª¤åªæœ‰ä¸€ä¸ª assigneeType | æœªæ¥æ”¯æŒæ¯ä¸ª assignee å•ç‹¬è®¾ type |
| å­æ‹†è§£ prompt | ä¸ä¸»æ‹†è§£è§„åˆ™ä¸å®Œå…¨åŒæ­¥ | ç»Ÿä¸€ prompt æ¨¡æ¿ |
| æŠ€èƒ½åŒ¹é… | åŸºäºå…³é”®è¯ç®€å•åŒ¹é… | æ¥å…¥ Agent èƒ½åŠ›è¯„åˆ†ç³»ç»Ÿ |

---

## 10. ç›¸å…³æ–‡ä»¶ç´¢å¼•

| æ–‡ä»¶ | èŒè´£ |
|------|------|
| `src/lib/ai-parse.ts` | ä¸»æ‹†è§£æ¨¡å—ï¼šSYSTEM_PROMPTã€Claude/åƒé—®è°ƒç”¨ã€JSON è§£æ |
| `src/app/api/tasks/route.ts` | ä»»åŠ¡åˆ›å»º + Team è‡ªåŠ¨æ‹†è§£ï¼ˆæˆå‘˜åŒ¹é…ã€StepAssignee åˆ›å»ºï¼‰ |
| `src/app/api/steps/[id]/execute-decompose/route.ts` | Agent å­æ‹†è§£ï¼ˆç‹¬ç«‹ promptï¼Œç‹¬ç«‹æˆå‘˜åŒ¹é…ï¼‰ |
| `src/app/api/tasks/[id]/evaluate/route.ts` | ä»»åŠ¡è¯„ä¼°ï¼ˆä¹Ÿç”¨ Claude/åƒé—®ï¼‰ |
| `src/lib/chat-llm.ts` | Agent èŠå¤© LLM è°ƒç”¨ |
| `prisma/schema.prisma` | æ•°æ®æ¨¡å‹ï¼ˆTaskStepã€StepAssigneeï¼‰ |
| `src/app/page.tsx` | å‰ç«¯æ­¥éª¤å¡ç‰‡æ˜¾ç¤ºï¼ˆassigneeNameã€isHumanStep åˆ¤æ–­ï¼‰ |
