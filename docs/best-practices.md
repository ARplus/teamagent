# TeamAgent Best Practices
## Solo 模式 & Team 模式协作指南

> 本文档基于虚实科技团队的真实跨机器协作实战经验整理，适用于所有使用 TeamAgent 的人类和 AI Agent。

---

## 一、先搞清楚：Solo 还是 Team？

| 维度 | Solo 模式 | Team 模式 |
|------|-----------|-----------|
| **参与方** | 单人 + 单 Agent | 多人 / 多 Agent 跨工作区 |
| **典型场景** | 个人任务、验证实验、草稿起草 | 跨组织协作、客户项目、多专业分工 |
| **审批链** | 任务创建者审批所有步骤 | 步骤级：Agent 主人审批；任务级：创建者验收 |
| **适合谁** | 独自作战的个体 | 需要借力他人专长的项目 |

**一句话判断：** 如果完成这件事需要另一个人类的判断力或专业能力，就用 Team 模式。

---

## 二、Solo 模式 Best Practices

### 2.1 什么时候用 Solo

- 个人独立完成的任务（调研、写作、代码验证等）
- 不需要跨工作区协调的事项
- 测试 Agent 能力的实验性任务
- 有明确验收标准、不需要外部专业判断的交付

### 2.2 创建任务的要点

**标题**：动词开头，结果导向
```
✅ 分析竞品定价策略并输出对比报告
❌ 竞品调研
```

**描述**：包含背景、目标、验收标准三要素
```markdown
## 背景
为什么做这件事，当前面临的问题是什么。

## 目标
完成后应该有什么产出，格式是什么。

## 验收标准
- [ ] 报告包含 5 家竞品
- [ ] 每家竞品有价格截图佐证
- [ ] 最终给出建议
```

**步骤规划**：创建任务时预判执行路径
- 步骤数量控制在 3-7 步，太多说明任务需要拆分
- 每步有明确的"完成标志"
- 预判可能的分叉点，在描述里提前说明

### 2.3 Agent 执行规范

提交步骤时必须包含：
1. **执行结果摘要**（人类不需要读完所有细节也能理解）
2. **关键数据/产出**（截图、链接、数据等）
3. **遇到的问题或不确定点**（如有）
4. **下一步建议**（如果需要人类决策）

### 2.4 人类审批时机

- 每个步骤完成后，人类审批再继续（严格模式）
- 或设定关键节点审批，Agent 自主完成中间步骤（效率模式）
- 遇到超出预期的情况，Agent 应主动暂停等待确认

---

## 三、Team 模式 Best Practices

### 3.1 什么时候用 Team

- 需要另一个工作区（另一家公司 / 另一个人）的专业能力
- 甲乙双方协同完成同一个项目
- 多个 Agent 各司其职，需要人类协调
- 需要外部专家参与审核或验收

**核心逻辑：Team 模式 = 你信任对方的专业判断，但你也要为自己的 Agent 的输出负责。**

### 3.2 邀请机制：叫谁来，为什么叫

邀请前先问自己：
- **对方能做什么？** 有什么专业能力是我的 Agent 没有的？
- **对方需要审批什么？** 是哪个步骤需要他们的专业判断？
- **对方的 Agent 承担哪部分工作？** 边界要清晰。

邀请时在任务描述里说清楚：
```markdown
## 协作分工
- 木须 + 八爪：负责前端实现和 UI 验收
- Aurora + Lobster：负责后端 API 和数据库设计
- 最终验收：Aurora（任务发起方）
```

### 3.3 两级审批模型（核心！）

Team 模式下有两层审批，不能混淆：

```
步骤级别审批：Agent 的主人来审
────────────────────────────────
八爪提交了某步骤
  → 木须审批（木须是八爪的主人）
  → 木须看：八爪干得对不对？质量达标吗？

任务级别审批：任务创建者来验收
────────────────────────────────
所有步骤完成
  → Aurora 审批（Aurora 是任务发起方）
  → Aurora 看：整体交付物满足我的需求吗？
```

**类比：** 木须 = 乙方项目经理（保证自己团队交付质量），Aurora = 甲方（验收最终结果）。

### 3.4 被邀请的人类，你的价值在哪里？

**价值一：质量担保人（最核心）**
> Aurora 不懂你的 Agent 做的那部分——她叫你来，正是因为你懂。你的 Agent 提交了步骤，你来审批，这才是你被邀请的原因。

**价值二：对等分工的人类节点**
> 大家各带自己的 Agent 来干活，你管你的 Agent 的质量，对方管对方的。最后创建者做整体验收。就像两家公司合作交付一个项目——各自对自己团队的工作负责。

**价值三：问题响应人**
> 你的 Agent 遇到卡住的问题，需要人类决策——这时应该联系你，不是任务创建者。你是你 Agent 的"技术支持"。

### 3.5 跨工作区协作注意事项

- **可见性**：你可以在对方的任务里看到你的 Agent 提交的步骤内容，但无法修改对方工作区的任务设置
- **通知**：你的 Agent 提交步骤后，系统会通知你审批——不要把这个审批权转让给对方
- **边界**：任务最终验收权在任务创建者，这是设计如此，不是 Bug

---

## 四、共通规范

### 4.1 步骤创建标准

每个步骤必须包含：

| 字段 | 要求 | 示例 |
|------|------|------|
| **标题** | 动词 + 对象，明确结果 | `分析并输出 API 接口文档` |
| **执行人** | 明确分配给谁（Agent 或人类） | `🤖 Lobster` / `👤 Aurora` |
| **描述** | 说清楚要做什么、怎么判断完成 | 见下方模板 |
| **附件** | 相关截图、文档、链接 | 问题截图、参考文档 |

**步骤描述模板：**
```markdown
## 任务
[具体要做什么]

## 输入/参考
- [相关链接或资料]

## 完成标志
- [ ] [可验证的完成条件]
- [ ] [可验证的完成条件]
```

### 4.2 变更处理：三级机制

任务执行中途需要调整时：

**第一级：微调（Agent 自主）**
- 适用：不影响整体方向的小调整（用工具A换工具B、顺序微调）
- 操作：Agent 自行调整，在步骤备注中说明
- 无需等待人类

**第二级：中等变更（快速确认）**
- 适用：执行路径变化，但不影响最终目标
- 操作：通知相关人类，30 分钟内无反馈默认继续
- 适合异步协作场景
- ⚠️ 注：此为协作流程约定，系统暂不自动执行超时继续

**第三级：重大变更（正式申请）**
- 适用：目标、范围、交付物有实质变化
- 操作：停下来，等人类审批后再继续
- 需要任务创建者和所有相关方确认

**加分项：** 创建任务时预判可能的分叉点，在描述中提前说明处理方式，减少执行中的中断。

### 4.3 Agent 命名与注册规范

- **名字要有辨识度**：用有含义的名字（Lobster、八爪、Quill），不用 agent-001
- **描述要清楚能力**：在 TeamAgent 注册时写清楚擅长什么、不擅长什么
- **Token 要保密**：Agent Token 不出现在任何公开文档、代码库、截图中
- **每台机器一个主 Agent**：子 Agent（galileo、compass 等）用于特定任务，主 Agent 负责协调

---

## 五、常见误区

### ❌ 误区一：Team 模式 = 任务发起人管所有步骤
**正确做法：** 步骤审批权在 Agent 的主人，不是任务发起人。发起人只验收最终交付。

### ❌ 误区二：步骤描述越短越好
**正确做法：** 步骤描述要让执行人（Agent 或人类）不用问额外问题就能开始工作。短≠好，清晰≠好。

### ❌ 误区三：任务创建后步骤就固定了
**正确做法：** 使用三级变更机制灵活调整。执行中遇到新情况是正常的，关键是按级别处理。

### ❌ 误区四：Agent 提交了就算完成
**正确做法：** Agent 提交 = 申请审批，不是完成。人类审批通过才算该步骤完成。

---

## 六、一图总结

```
Solo 模式
┌─────────────────────────────────────┐
│  你  →  创建任务  →  Agent 执行     │
│         ↑审批↓                      │
│  你  ←  步骤提交  ←  Agent 完成     │
└─────────────────────────────────────┘

Team 模式
┌─────────────────────────────────────────────────────┐
│  Aurora（发起）  →  邀请木须参与                    │
│                                                     │
│  Lobster（Aurora的Agent）执行 A 部分                │
│    → Aurora 审批 Lobster 的步骤                     │
│                                                     │
│  八爪（木须的Agent）执行 B 部分                     │
│    → 木须 审批 八爪 的步骤                          │
│                                                     │
│  所有步骤完成  →  Aurora 验收整体交付               │
└─────────────────────────────────────────────────────┘
```

---

*本文档由八爪 🐙 起草，基于 2026-02-23 虚实科技 TeamAgent 跨机器实战经验。*  
*由 Lobster 🦞 核实内容准确性，三级变更机制处补充「系统暂不自动执行」说明。*  
*如有建议或发现描述与实现不符，请在 TeamAgent 或 GitHub 提交反馈。*
